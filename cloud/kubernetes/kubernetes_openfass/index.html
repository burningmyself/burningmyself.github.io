
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content=".net,java,php,python,docker,web">
      
      
        <meta name="author" content="BurningMyself">
      
      
        <link rel="canonical" href="https://burningmyself.gitee.io/cloud/kubernetes/kubernetes_openfass/">
      
      
        <link rel="prev" href="../kubernetes_kurator/">
      
      
        <link rel="next" href="../kubernetes_flink/">
      
      <link rel="icon" href="../../../favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.15">
    
    
      
        <title>Serverless之OpenFaaS函数即服务 - BurningMyself</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#serverlessopenfaas" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="BurningMyself" class="md-header__button md-logo" aria-label="BurningMyself" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BurningMyself
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Serverless之OpenFaaS函数即服务
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/burningmyself/burningmyself.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    burningmyself.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="BurningMyself" class="md-nav__button md-logo" aria-label="BurningMyself" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    BurningMyself
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/burningmyself/burningmyself.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    burningmyself.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        介绍
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          技术博文
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          技术博文
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          .NET
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          .NET
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../net/c_sharp/" class="md-nav__link">
        C#新特性语法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../net/c_docker/" class="md-nav__link">
        .Net Core Docker 部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../net/c_sqlserver_nginx/" class="md-nav__link">
        Docker 容器化部署 ASP.NET Core
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../net/c_core_safety/" class="md-nav__link">
        让你的ASP.NET Core应用程序更安全
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../net/c_core_study_route/" class="md-nav__link">
        ASP.NET Core开发者指南
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          Java
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          Java
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/feature/" class="md-nav__link">
        Java特性
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/load-class/" class="md-nav__link">
        Java类加载
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/orm/" class="md-nav__link">
        Orm的优缺点
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/bio-nio/" class="md-nav__link">
        BIO与NIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/rocketmq/rmq-1/" class="md-nav__link">
        RocketMq下载与安装
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/springAnnotation/" class="md-nav__link">
        Spring常用注解
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/javavm/" class="md-nav__link">
        Java 虚拟机
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/springdesign/" class="md-nav__link">
        Spring 常用设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/spring-cloud/" class="md-nav__link">
        Spring Cloud
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/java-simple/" class="md-nav__link">
        Java simple
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/java-validator/" class="md-nav__link">
        Java Validator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/java-string/" class="md-nav__link">
        Java String
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../java/java-utils/" class="md-nav__link">
        Java Utils
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
      
      
      
        <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/feature/" class="md-nav__link">
        Python特性
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/str_joint/" class="md-nav__link">
        Python字符拼接
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/syntax_rule/" class="md-nav__link">
        Python语法技巧
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/fabric/" class="md-nav__link">
        远程部署神器 Fabric
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
      
      
      
        <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
          Go
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Go
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../go/go_base/" class="md-nav__link">
        Go基础语法
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
      
      
      
        <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
          PHP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          PHP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../php/kj/" class="md-nav__link">
        框架
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
      
      
      
        <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
          Web
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Web
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/es6/" class="md-nav__link">
        es6语法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/ali_js_style/" class="md-nav__link">
        阿里js样式规范
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/node.js/" class="md-nav__link">
        node.js文档
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/react/" class="md-nav__link">
        React 开发者指南
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../dart/syntax/" class="md-nav__link">
        Dart语法学习
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/react_interview/" class="md-nav__link">
        React 面试
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/js_tool_method/" class="md-nav__link">
        js 工具函数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/vue_cp_react/" class="md-nav__link">
        vue与react比较
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../web/javascript/" class="md-nav__link">
        JavaScript 基础
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
      
      
      
        <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
          SQL
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_7">
          <span class="md-nav__icon md-icon"></span>
          SQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/mysql_yh/" class="md-nav__link">
        MySQL优化
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/mysql_yh17/" class="md-nav__link">
        MySQL优化
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/mysql_log/" class="md-nav__link">
        MySQL日志
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/mysql_index/" class="md-nav__link">
        MySQL索引
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/mysql_pxc/" class="md-nav__link">
        MySQL PXC集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/mysql_use/" class="md-nav__link">
        MySQL 数据库应用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/mysql_backups/" class="md-nav__link">
        MySql 备份
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/sql_server_master/" class="md-nav__link">
        Sql Server 主从备份
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/data_split/" class="md-nav__link">
        数据库之互联网常用分库分表方案
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/mybatis/" class="md-nav__link">
        Mybatis使用心德
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
      
      
      
        <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
          Linux
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_8">
          <span class="md-nav__icon md-icon"></span>
          Linux
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/linux/" class="md-nav__link">
        Linux学习笔记
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/often/" class="md-nav__link">
        常用命令
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../linux/ope/" class="md-nav__link">
        实用的Linux 命令
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
      
      
      
        <label class="md-nav__link" for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
          Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_9">
          <span class="md-nav__icon md-icon"></span>
          Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/docker/" class="md-nav__link">
        Docker全科
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/docker_core/" class="md-nav__link">
        Docker 核心技术
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/docker-compose/" class="md-nav__link">
        docker和docker-compose配置常用环境
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/docker-jenkins/" class="md-nav__link">
        Docker部署Jenkins
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/docker-phabricator/" class="md-nav__link">
        Docker部署Phabricator
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_10" >
      
      
      
        <label class="md-nav__link" for="__nav_2_10" id="__nav_2_10_label" tabindex="0">
          Kubernetes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_10">
          <span class="md-nav__icon md-icon"></span>
          Kubernetes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kubernetes/k8s_fw_rule_and_object_design/" class="md-nav__link">
        Kubernetes架构原则和对象设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kubernetes/k8s_etcd/" class="md-nav__link">
        Kubernetes控制平面组件etcd
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kubernetes/k8s_kube_APIServer/" class="md-nav__link">
        深入理解Kube-APIServer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kubernetes/k8s_controller_manager/" class="md-nav__link">
        kubernetes控制平面组件
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_11" >
      
      
      
        <label class="md-nav__link" for="__nav_2_11" id="__nav_2_11_label" tabindex="0">
          Tool
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_11">
          <span class="md-nav__icon md-icon"></span>
          Tool
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/git/" class="md-nav__link">
        Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/gitusual/" class="md-nav__link">
        Git动画展示
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/gitquestion/" class="md-nav__link">
        Git问题处理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/gitflow/" class="md-nav__link">
        GitFlow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/gitbook/" class="md-nav__link">
        GitBook
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/gitcmr/" class="md-nav__link">
        Git提交日志规范
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/markdown/" class="md-nav__link">
        Markdown
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/cicd/" class="md-nav__link">
        CI/CD
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/mkdocs/" class="md-nav__link">
        mkdocs简单使用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/gitstudy/" class="md-nav__link">
        Git的黑魔法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/minio/" class="md-nav__link">
        MinIO 搭建使用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../tool/cat-monitoring/" class="md-nav__link">
        Cat分布式监控
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          云架构
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          云架构
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../native/" class="md-nav__link">
        云原生
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../virtual/" class="md-nav__link">
        虚拟化技术
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../compute/" class="md-nav__link">
        云计算
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../apprelease/" class="md-nav__link">
        应用部署容器化演进
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../containerlinux/" class="md-nav__link">
        容器技术所涉及Linux内核关键技术
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
      
      
      
        <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
          Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_6">
          <span class="md-nav__icon md-icon"></span>
          Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_native/" class="md-nav__link">
        容器管理工具Docker生态架构及部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_nginx/" class="md-nav__link">
        使用容器运行Nginx应用及Docker命令
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_image/" class="md-nav__link">
        Docker容器镜像
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_image_fast/" class="md-nav__link">
        Docker容器镜像加速器及本地容器镜像仓库
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_container_enterprice/" class="md-nav__link">
        Docker容器化部署企业级应用集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_file/" class="md-nav__link">
        Dockerfile精讲及新型容器镜像构建技术
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_network/" class="md-nav__link">
        Docker容器网络与通信原理深度解析
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_date/" class="md-nav__link">
        Docker容器数据持久化存储机制
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_compose/" class="md-nav__link">
        Docker容器服务编排利器Docker Compose应用实战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_swarm/" class="md-nav__link">
        Docker主机集群化方案 Docker Swarm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_devops/" class="md-nav__link">
        基于Docker容器DevOps应用方案 企业业务代码发布系统
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/docker_container/" class="md-nav__link">
        轻量级或工业级容器管理工具
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
          Kubernetes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3_7">
          <span class="md-nav__icon md-icon"></span>
          Kubernetes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        kubeadm极速部署Kubernetes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_introduce/" class="md-nav__link">
        kubernetes介绍与集群架构
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_way/" class="md-nav__link">
        Kubernetes集群部署方式说明
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_master/" class="md-nav__link">
        kubeadm部署单Master节点kubernetes集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_hight/" class="md-nav__link">
        kubeadm部署高可用kubernetes集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_rke/" class="md-nav__link">
        使用RKE构建企业生产级Kubernetes集群
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_hight_bin1/" class="md-nav__link">
        Kubernetes高可用集群二进制部署（Runtime Docker）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_hight_bin2/" class="md-nav__link">
        Kubernetes高可用集群二进制部署（Runtime Containerd）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_ui/" class="md-nav__link">
        Kubernetes集群UI及主机资源监控
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_sealos/" class="md-nav__link">
        使用sealos部署kubernetes集群并实现集群管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_cluster/" class="md-nav__link">
        kubernetes集群命令语法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_core/" class="md-nav__link">
        Kubernetes核心概念
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_nginx_ingress_controller/" class="md-nav__link">
        Kubernetes集群 服务暴露 Nginx Ingress Controller
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_traefik/" class="md-nav__link">
        Kubernetes集群 服务暴露 Traefik
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_configMap_secret/" class="md-nav__link">
        Kubernetes配置与密钥管理 ConfigMap&Secret
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_harbor/" class="md-nav__link">
        Kubernetes集群使用容器镜像仓库Harbor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_safety/" class="md-nav__link">
        Kubernetes集群安全管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_storage_volume/" class="md-nav__link">
        kubernetes持久化存储卷
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_storage_ceph/" class="md-nav__link">
        kubernetes存储解决方案Ceph
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_cluster_serve/" class="md-nav__link">
        Kubernetes集群公共服务
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_deploy_java/" class="md-nav__link">
        kubernetes集群java项目上云部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_deploy_python/" class="md-nav__link">
        kubernetes集群Python项目上云部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_deploy_golang/" class="md-nav__link">
        Kubernetes集群golang项目上云部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_helm_prometheus/" class="md-nav__link">
        helm部署prometheus监控系统及应用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_logs_collect/" class="md-nav__link">
        kubernetes日志收集方案ELK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_zookeeper/" class="md-nav__link">
        企业级中间件上云部署zookeeper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_kafka/" class="md-nav__link">
        kubernetes云原生中间件上云部署kafka
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_rokectmq/" class="md-nav__link">
        rocketmq部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_helm/" class="md-nav__link">
        Kubernetes集群包管理解决方案 Helm
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_kustomize/" class="md-nav__link">
        Kubernetes原生配置管理利器 kustomize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_flannel/" class="md-nav__link">
        kubernetes集群网络解决方案 flannel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_calico/" class="md-nav__link">
        kubernetes集群网络解决方案 calico
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_hybridnet/" class="md-nav__link">
        kubernetes集群 underlay 网络方案 hybridnet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_ipv4_and_ipv6/" class="md-nav__link">
        kubernetes版本双栈协议（IPv4&IPv6）集群部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_rancher/" class="md-nav__link">
        Rancher容器云管理平台
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_kubeconfig/" class="md-nav__link">
        使用kubeconfig管理多集群方法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_karmada/" class="md-nav__link">
        karmada实现k8s集群联邦
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_kubesphere/" class="md-nav__link">
        安装kubesphere使用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_ack/" class="md-nav__link">
        阿里云容器服务ACK
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_devops/" class="md-nav__link">
        基于kubernetes集群构建大中型企业CICD应用平台
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_kubesphere_devops/" class="md-nav__link">
        基于KubeSphere实现DevOps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_gitops/" class="md-nav__link">
        云原生多云持续交付GitOps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_velero/" class="md-nav__link">
        kubernetes集群备份与恢复管理利器Velero
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_kurator/" class="md-nav__link">
        kubernetes集群舰队管理Kurator
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Serverless之OpenFaaS函数即服务
      </a>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_flink/" class="md-nav__link">
        Flink基于Kubernetes部署
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_hdfs/" class="md-nav__link">
        大数据HDFS分布式文件系统搭建
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_spark/" class="md-nav__link">
        Spark与Kubernetes整合
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes_ui/" class="md-nav__link">
        源监控
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          微服务
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          微服务
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../micro/fbs-lock/" class="md-nav__link">
        分布式锁
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../micro/design/" class="md-nav__link">
        微服务设计
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../micro/distrimsg/" class="md-nav__link">
        分布式系统与消息的投递
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../micro/ddd/" class="md-nav__link">
        基于DDD的微服务设计和开发实战
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../micro/kafka/" class="md-nav__link">
        Kafka架构原理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../micro/redis_cluster/" class="md-nav__link">
        Redis Cluster原理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../micro/spring-cloud-micro/" class="md-nav__link">
        分布式架构
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          经验分析
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          经验分析
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/devops/" class="md-nav__link">
        DevOps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/micro-service/" class="md-nav__link">
        Micro-Service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/raft-gossip/" class="md-nav__link">
        Raft算法和Gossip协议
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/cl/" class="md-nav__link">
        集群和负载均衡
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/ai/" class="md-nav__link">
        人工智能
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/code-principle/" class="md-nav__link">
        代码原则
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/techbig/" class="md-nav__link">
        如何成为技术大牛
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/learnweetout/" class="md-nav__link">
        程序员如何技术成长
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/pt/" class="md-nav__link">
        产品与技术
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/four_deep_learning/" class="md-nav__link">
        深度学习框架
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/tl/" class="md-nav__link">
        在阿里做了5年技术Leader，我总结出这些套路！
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../exp/cto/" class="md-nav__link">
        CTO 技能图谱
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          构架
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          构架
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../framework/split/" class="md-nav__link">
        构架拆分
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../framework/fgb/" class="md-nav__link">
        分布式、高并发、多线程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../framework/agility/" class="md-nav__link">
        如何理解敏捷开发
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../framework/fwork/" class="md-nav__link">
        走向架构师必备的技能
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../framework/data_middle/" class="md-nav__link">
        数据中台的思考与总结
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../framework/algorithm-ten/" class="md-nav__link">
        必学的 10 大算法
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          情感
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          情感
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/eq/" class="md-nav__link">
        情商
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/workheard/" class="md-nav__link">
        工作心得
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/lookbook/" class="md-nav__link">
        看书
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/selfdiscipline/" class="md-nav__link">
        自律
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/livefail/" class="md-nav__link">
        为什么活着失败
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/emotion/" class="md-nav__link">
        情绪管理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/losecome/" class="md-nav__link">
        所有的失去，都会以另一种方式归来
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/threeheart/" class="md-nav__link">
        人生有这三种好心态
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/onepath/" class="md-nav__link">
        余生，学会一个人走，不管有没有人陪
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/twopath/" class="md-nav__link">
        往后余生还很精彩，别被熬夜拖垮了
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../emotion/lifetime/" class="md-nav__link">
        心态好的人，一辈子都好
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="serverlessopenfaas">Serverless之OpenFaaS 函数即服务<a class="headerlink" href="#serverlessopenfaas" title="Permanent link">&para;</a></h1>
<h1 id="openfaas">一、OpenFaaS介绍<a class="headerlink" href="#openfaas" title="Permanent link">&para;</a></h1>
<p><img alt="image-20221124112009308" src="../../../img/kubernetes/kubernetes_openfass/image-20221124112009308.png" /></p>
<p>Openfaas是一种serverless提供方式，可以使开发人员轻松地将事件驱动的功能和微服务部署到Kubernetes中，能够自动将你的代码或已有的二进制文件打包到Docker容器镜像中，快速实现部署并提供即时访问接口，且在运行过程中具有自动缩放和指标的高度扩展性。</p>
<p><strong>OpenFaas 特性</strong></p>
<ul>
<li>开源函数框架 - 在任何云上运行函数，无需担心锁定</li>
<li>用任何语言编写函数并将它们打包到 Docker/OCI 格式的容器中</li>
<li>易于使用 - 内置 UI、强大的 CLI 和一键安装</li>
<li>随心所欲地扩展 - 处理流量高峰，并在空闲时缩减</li>
<li>活跃的社区 - 贡献和归属</li>
<li>开发人员社区版、专业版和生产支持</li>
</ul>
<p><strong>Openfaas架构设计</strong></p>
<p><img alt="img" src="../../../img/kubernetes/kubernetes_openfass/15383821-b2406d917f0c17ec.png" /></p>
<p><strong>function调用路径</strong></p>
<p><img alt="image-20221125102936359" src="../../../img/kubernetes/kubernetes_openfass/image-20221125102936359.png" /></p>
<p><img alt="img" src="../../../img/kubernetes/kubernetes_openfass/image-20221124.png" /></p>
<p>API网关为你的函数提供了一个外部路由，并通过Prometheus收集云原生指标。网关还有一个内置的UI界面，使得你可以从OpenFaaS的函数商店部署并调用自己的函数。</p>
<p>网关会根据需要自动伸缩函数，依据 Kubernetes的API来改变服务的副本数来做到。 在/system/alert端点接收AlertManager生成的自定义通知。</p>
<ul>
<li>内置UI</li>
<li>部署自定义函数，或者函数商店中的函数</li>
<li>Prometheus的仪表盘</li>
<li>通过AlertManager自动伸缩</li>
<li>REST API</li>
</ul>
<p>当Gateway作为一个入口，当CLI或者web页面发来要部署或者调用一个函数的时候，Gateway会将请求转发给Provider，同时会将监控指标发给Prometheus。AlterManager会根据需求，调用API自动伸缩函数。</p>
<p>nats是一个开源的，云原生的消息系统，类似于ActiveMQ、KafKa、RabbitMq。Apcera，百度，西门子，VMware，HTC和爱立信等公司都有在使用。</p>
<p>核心基于EventMachine开发，原理是基于消息发布订阅机制，每台服务器上的每个模块会根据自己的消息类别向MessageBus发布多个消息主题，而同时也向自己需要交互的模块，按照需要的主题订阅消息。能够达到每秒8-11百万个消息，整个程序很小只有3M Docker image，它不支持持久化消息，如果你离线，你就不能获得消息。使用nats streaming可以做到持久化，缓存等功能。</p>
<div class="highlight"><pre><span></span><code><span class="c"># kubectl get pods -n openfaas</span>
<span class="n">NAME</span>                                <span class="n">READY</span>   <span class="n">STATUS</span>    <span class="n">RESTARTS</span>      <span class="n">AGE</span>
<span class="n">alertmanager</span><span class="p">-</span><span class="n">646f7b5cf4-w96hm</span>       <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">1</span> <span class="p">(</span><span class="n">18h</span> <span class="n">ago</span><span class="p">)</span>   <span class="n">18h</span>
<span class="n">basic-auth-plugin</span><span class="p">-</span><span class="n">957dfbfb7-v5jv7</span>   <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">1</span> <span class="p">(</span><span class="n">18h</span> <span class="n">ago</span><span class="p">)</span>   <span class="n">18h</span>
<span class="n">gateway</span><span class="p">-</span><span class="n">79458985bd</span><span class="p">-</span><span class="n">9g9xw</span>            <span class="n">2</span><span class="p">/</span><span class="n">2</span>     <span class="n">Running</span>   <span class="n">4</span> <span class="p">(</span><span class="n">18h</span> <span class="n">ago</span><span class="p">)</span>   <span class="n">18h</span>
<span class="n">nats</span><span class="p">-</span><span class="n">7f8c77747c-dbqrm</span>               <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">1</span> <span class="p">(</span><span class="n">18h</span> <span class="n">ago</span><span class="p">)</span>   <span class="n">18h</span>
<span class="n">prometheus</span><span class="p">-</span><span class="n">6f69c7b564-x8p8d</span>         <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">1</span> <span class="p">(</span><span class="n">18h</span> <span class="n">ago</span><span class="p">)</span>   <span class="n">18h</span>
<span class="n">queue-worker</span><span class="p">-</span><span class="n">78bd96497-dnvt5</span>        <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">1</span> <span class="p">(</span><span class="n">18h</span> <span class="n">ago</span><span class="p">)</span>   <span class="n">18h</span>
</code></pre></div>
<p><img alt="img" src="../../../img/kubernetes/kubernetes_openfass/15383821-3c8659e46094f5d1.png" /></p>
<h1 id="openfaas_1">二、OpenFaaS运行基础环境<a class="headerlink" href="#openfaas_1" title="Permanent link">&para;</a></h1>
<blockquote>
<p>官网链接：<a href="http://www.openfaas.com">www.openfaas.com</a></p>
</blockquote>
<p>kubernetes现在已经成了环境管理及容器调度的实时标准了。openfaas的部署章节，推荐使用kubernetes进行部署和使用。</p>
<p><img alt="image-20221124104359974" src="../../../img/kubernetes/kubernetes_openfass/image-20221124104359974.png" /></p>
<p><img alt="image-20221124105200142" src="../../../img/kubernetes/kubernetes_openfass/image-20221124105200142.png" /></p>
<h1 id="helm">三、使用helm进行部署<a class="headerlink" href="#helm" title="Permanent link">&para;</a></h1>
<h2 id="31_helm">3.1 helm安装<a class="headerlink" href="#31_helm" title="Permanent link">&para;</a></h2>
<blockquote>
<p>参考链接：<a href="https://github.com/openfaas/faas-netes/blob/master/chart/openfaas/README.md">https://github.com/openfaas/faas-netes/blob/master/chart/openfaas/README.md</a></p>
</blockquote>
<p><img alt="image-20221124105412280" src="../../../img/kubernetes/kubernetes_openfass/image-20221124105412280.png" /></p>
<div class="highlight"><pre><span></span><code><span class="n">下载helm</span>
<span class="nb">curl </span><span class="n">-sSLf</span> <span class="n">https</span><span class="p">://</span><span class="n">raw</span><span class="p">.</span><span class="n">githubusercontent</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">helm</span><span class="p">/</span><span class="n">helm</span><span class="p">/</span><span class="n">master</span><span class="p">/</span><span class="n">scripts</span><span class="p">/</span><span class="nb">get-helm</span><span class="p">-</span><span class="n">3</span> <span class="p">|</span> <span class="n">bash</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">验证helm版本</span>
<span class="n">helm</span> <span class="n">version</span>
</code></pre></div>
<h2 id="32_helmopenfaas">3.2 使用helm部署openfaas<a class="headerlink" href="#32_helmopenfaas" title="Permanent link">&para;</a></h2>
<blockquote>
<p>参考链接：<a href="https://github.com/openfaas/faas-netes/blob/master/chart/openfaas/README.md">https://github.com/openfaas/faas-netes/blob/master/chart/openfaas/README.md</a></p>
</blockquote>
<p><img alt="image-20221124105646619" src="../../../img/kubernetes/kubernetes_openfass/image-20221124105646619.png" /></p>
<div class="highlight"><pre><span></span><code><span class="n">helm</span> <span class="n">repo</span> <span class="n">add</span> <span class="n">openfaas</span> <span class="n">https</span><span class="p">://</span><span class="n">openfaas</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">faas-netes</span><span class="p">/</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">helm</span> <span class="n">repo</span> <span class="n">update</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">kubectl</span> <span class="n">apply</span> <span class="o">-f</span> <span class="n">https</span><span class="p">://</span><span class="n">raw</span><span class="p">.</span><span class="n">githubusercontent</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">faas-netes</span><span class="p">/</span><span class="n">master</span><span class="p">/</span><span class="n">namespaces</span><span class="p">.</span><span class="n">yml</span>
</code></pre></div>
<blockquote>
<ul>
<li>openfaas：用于核心组件</li>
<li>openfaas-fn：用于functions</li>
</ul>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c"># kubectl get ns</span>
<span class="n">NAME</span>               <span class="n">STATUS</span>   <span class="n">AGE</span>
<span class="p">......</span>
<span class="n">openfaas</span>           <span class="n">Active</span>   <span class="n">8s</span>
<span class="n">openfaas-fn</span>        <span class="n">Active</span>   <span class="n">8s</span>
</code></pre></div>
<p><img alt="image-20221124111657736" src="../../../img/kubernetes/kubernetes_openfass/image-20221124111657736.png" /></p>
<div class="highlight"><pre><span></span><code><span class="n">helm</span> <span class="n">repo</span> <span class="n">update</span> <span class="p">\</span>
 <span class="p">&amp;&amp;</span> <span class="n">helm</span> <span class="n">upgrade</span> <span class="n">openfaas</span> <span class="p">-</span><span class="n">-install</span> <span class="n">openfaas</span><span class="p">/</span><span class="n">openfaas</span> <span class="p">\</span>
    <span class="p">-</span><span class="n">-namespace</span> <span class="n">openfaas</span>  <span class="p">\</span>
    <span class="p">-</span><span class="n">-set</span> <span class="n">functionNamespace</span><span class="p">=</span><span class="n">openfaas-fn</span> <span class="p">\</span>
    <span class="p">-</span><span class="n">-set</span> <span class="n">generateBasicAuth</span><span class="p">=</span><span class="n">true</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">Release</span> <span class="s2">&quot;openfaas&quot;</span> <span class="n">does</span> <span class="n">not</span> <span class="n">exist</span><span class="p">.</span> <span class="n">Installing</span> <span class="n">it</span> <span class="n">now</span><span class="p">.</span>
<span class="n">NAME</span><span class="p">:</span> <span class="n">openfaas</span>
<span class="n">LAST</span> <span class="n">DEPLOYED</span><span class="p">:</span> <span class="n">Thu</span> <span class="n">Nov</span> <span class="n">24</span> <span class="n">11</span><span class="p">:</span><span class="n">21</span><span class="p">:</span><span class="n">14</span> <span class="n">2022</span>
<span class="n">NAMESPACE</span><span class="p">:</span> <span class="n">openfaas</span>
<span class="n">STATUS</span><span class="p">:</span> <span class="n">deployed</span>
<span class="n">REVISION</span><span class="p">:</span> <span class="n">1</span>
<span class="n">TEST</span> <span class="n">SUITE</span><span class="p">:</span> <span class="n">None</span>
<span class="n">NOTES</span><span class="p">:</span>
<span class="n">To</span> <span class="n">verify</span> <span class="n">that</span> <span class="n">openfaas</span> <span class="n">has</span> <span class="n">started</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span>

  <span class="n">kubectl</span> <span class="n">-n</span> <span class="n">openfaas</span> <span class="n">get</span> <span class="n">deployments</span> <span class="n">-l</span> <span class="s2">&quot;release=openfaas, app=openfaas&quot;</span>
<span class="n">To</span> <span class="n">retrieve</span> <span class="n">the</span> <span class="n">admin</span> <span class="n">password</span><span class="p">,</span> <span class="n">run</span><span class="p">:</span>

  <span class="nb">echo </span><span class="p">$(</span><span class="n">kubectl</span> <span class="n">-n</span> <span class="n">openfaas</span> <span class="n">get</span> <span class="n">secret</span> <span class="n">basic-auth</span> <span class="n">-o</span> <span class="n">jsonpath</span><span class="p">=</span><span class="s2">&quot;{.data.basic-auth-password}&quot;</span> <span class="p">|</span> <span class="n">base64</span> <span class="p">-</span><span class="n">-decode</span><span class="p">)</span>
</code></pre></div>
<h2 id="33_openfaas">3.3 openfaas部署验证<a class="headerlink" href="#33_openfaas" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c"># kubectl get all -n openfaas</span>
<span class="n">NAME</span>                                    <span class="n">READY</span>   <span class="n">STATUS</span>    <span class="n">RESTARTS</span>      <span class="n">AGE</span>
<span class="n">pod</span><span class="p">/</span><span class="n">alertmanager</span><span class="p">-</span><span class="n">646f7b5cf4-mpkxp</span>       <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">0</span>             <span class="n">112s</span>
<span class="n">pod</span><span class="p">/</span><span class="n">basic-auth-plugin</span><span class="p">-</span><span class="n">957dfbfb7</span><span class="p">-</span><span class="n">6wbwb</span>   <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">0</span>             <span class="n">112s</span>
<span class="n">pod</span><span class="p">/</span><span class="n">gateway</span><span class="p">-</span><span class="n">79458985bd-pd5lw</span>            <span class="n">2</span><span class="p">/</span><span class="n">2</span>     <span class="n">Running</span>   <span class="n">0</span>             <span class="n">112s</span>
<span class="n">pod</span><span class="p">/</span><span class="n">nats</span><span class="p">-</span><span class="n">7f8c77747c-tsxlg</span>               <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">0</span>             <span class="n">112s</span>
<span class="n">pod</span><span class="p">/</span><span class="n">prometheus</span><span class="p">-</span><span class="n">6f69c7b564-fn8vs</span>         <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">0</span>             <span class="n">112s</span>
<span class="n">pod</span><span class="p">/</span><span class="n">queue-worker</span><span class="p">-</span><span class="n">78bd96497-gwr7m</span>        <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">1</span> <span class="p">(</span><span class="n">99s</span> <span class="n">ago</span><span class="p">)</span>   <span class="n">112s</span>

<span class="n">NAME</span>                        <span class="nb">TYPE </span>       <span class="n">CLUSTER-IP</span>    <span class="n">EXTERNAL-IP</span>   <span class="n">PORT</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>          <span class="n">AGE</span>
<span class="n">service</span><span class="p">/</span><span class="n">alertmanager</span>        <span class="n">ClusterIP</span>   <span class="n">10</span><span class="p">.</span><span class="n">96</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">255</span>   <span class="p">&lt;</span><span class="n">none</span><span class="p">&gt;</span>        <span class="n">9093</span><span class="p">/</span><span class="n">TCP</span>         <span class="n">112s</span>
<span class="n">service</span><span class="p">/</span><span class="n">basic-auth-plugin</span>   <span class="n">ClusterIP</span>   <span class="n">10</span><span class="p">.</span><span class="n">96</span><span class="p">.</span><span class="n">2</span><span class="p">.</span><span class="n">167</span>   <span class="p">&lt;</span><span class="n">none</span><span class="p">&gt;</span>        <span class="n">8080</span><span class="p">/</span><span class="n">TCP</span>         <span class="n">112s</span>
<span class="n">service</span><span class="p">/</span><span class="n">gateway</span>             <span class="n">ClusterIP</span>   <span class="n">10</span><span class="p">.</span><span class="n">96</span><span class="p">.</span><span class="n">3</span><span class="p">.</span><span class="n">110</span>   <span class="p">&lt;</span><span class="n">none</span><span class="p">&gt;</span>        <span class="n">8080</span><span class="p">/</span><span class="n">TCP</span>         <span class="n">112s</span>
<span class="n">service</span><span class="p">/</span><span class="n">gateway-external</span>    <span class="n">NodePort</span>    <span class="n">10</span><span class="p">.</span><span class="n">96</span><span class="p">.</span><span class="n">3</span><span class="p">.</span><span class="n">20</span>    <span class="p">&lt;</span><span class="n">none</span><span class="p">&gt;</span>        <span class="n">8080</span><span class="p">:</span><span class="n">31112</span><span class="p">/</span><span class="n">TCP</span>   <span class="n">112s</span>
<span class="n">service</span><span class="p">/</span><span class="n">gateway-provider</span>    <span class="n">ClusterIP</span>   <span class="n">10</span><span class="p">.</span><span class="n">96</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">95</span>    <span class="p">&lt;</span><span class="n">none</span><span class="p">&gt;</span>        <span class="n">8081</span><span class="p">/</span><span class="n">TCP</span>         <span class="n">112s</span>
<span class="n">service</span><span class="p">/</span><span class="n">nats</span>                <span class="n">ClusterIP</span>   <span class="n">10</span><span class="p">.</span><span class="n">96</span><span class="p">.</span><span class="n">3</span><span class="p">.</span><span class="n">5</span>     <span class="p">&lt;</span><span class="n">none</span><span class="p">&gt;</span>        <span class="n">4222</span><span class="p">/</span><span class="n">TCP</span>         <span class="n">112s</span>
<span class="n">service</span><span class="p">/</span><span class="n">prometheus</span>          <span class="n">ClusterIP</span>   <span class="n">10</span><span class="p">.</span><span class="n">96</span><span class="p">.</span><span class="n">2</span><span class="p">.</span><span class="n">177</span>   <span class="p">&lt;</span><span class="n">none</span><span class="p">&gt;</span>        <span class="n">9090</span><span class="p">/</span><span class="n">TCP</span>         <span class="n">112s</span>

<span class="n">NAME</span>                                <span class="n">READY</span>   <span class="n">UP-TO-DATE</span>   <span class="n">AVAILABLE</span>   <span class="n">AGE</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">alertmanager</span>        <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">1</span>            <span class="n">1</span>           <span class="n">112s</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">basic-auth-plugin</span>   <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">1</span>            <span class="n">1</span>           <span class="n">112s</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">gateway</span>             <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">1</span>            <span class="n">1</span>           <span class="n">112s</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">nats</span>                <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">1</span>            <span class="n">1</span>           <span class="n">112s</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">prometheus</span>          <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">1</span>            <span class="n">1</span>           <span class="n">112s</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">queue-worker</span>        <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">1</span>            <span class="n">1</span>           <span class="n">112s</span>

<span class="n">NAME</span>                                          <span class="n">DESIRED</span>   <span class="n">CURRENT</span>   <span class="n">READY</span>   <span class="n">AGE</span>
<span class="n">replicaset</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">alertmanager</span><span class="p">-</span><span class="n">646f7b5cf4</span>       <span class="n">1</span>         <span class="n">1</span>         <span class="n">1</span>       <span class="n">112s</span>
<span class="n">replicaset</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">basic-auth-plugin</span><span class="p">-</span><span class="n">957dfbfb7</span>   <span class="n">1</span>         <span class="n">1</span>         <span class="n">1</span>       <span class="n">112s</span>
<span class="n">replicaset</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">gateway</span><span class="p">-</span><span class="n">79458985bd</span>            <span class="n">1</span>         <span class="n">1</span>         <span class="n">1</span>       <span class="n">112s</span>
<span class="n">replicaset</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">nats</span><span class="p">-</span><span class="n">7f8c77747c</span>               <span class="n">1</span>         <span class="n">1</span>         <span class="n">1</span>       <span class="n">112s</span>
<span class="n">replicaset</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">prometheus</span><span class="p">-</span><span class="n">6f69c7b564</span>         <span class="n">1</span>         <span class="n">1</span>         <span class="n">1</span>       <span class="n">112s</span>
<span class="n">replicaset</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">queue-worker</span><span class="p">-</span><span class="n">78bd96497</span>        <span class="n">1</span>         <span class="n">1</span>         <span class="n">1</span>       <span class="n">112s</span>
</code></pre></div>
<h1 id="gateway">四、访问gateway管理界面<a class="headerlink" href="#gateway" title="Permanent link">&para;</a></h1>
<blockquote>
<p>可以看到已经部署了NodePort service，暴露端口为<code>31112</code>，可以通过<code>http://&lt;node-ip&gt;:31112</code>打开gateway的管理界面了。</p>
</blockquote>
<h2 id="41">4.1 获取访问密码<a class="headerlink" href="#41" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nb">echo </span><span class="p">$(</span><span class="n">kubectl</span> <span class="n">-n</span> <span class="n">openfaas</span> <span class="n">get</span> <span class="n">secret</span> <span class="n">basic-auth</span> <span class="n">-o</span> <span class="n">jsonpath</span><span class="p">=</span><span class="s2">&quot;{.data.basic-auth-password}&quot;</span> <span class="p">|</span> <span class="n">base64</span> <span class="p">-</span><span class="n">-decode</span><span class="p">)</span>

<span class="n">输出密码为</span><span class="err">：</span>
<span class="n">8hG1vZOzFfBs</span>
</code></pre></div>
<p>或</p>
<div class="highlight"><pre><span></span><code><span class="n">PASSWORD</span><span class="p">=$(</span><span class="n">kubectl</span> <span class="n">-n</span> <span class="n">openfaas</span> <span class="n">get</span> <span class="n">secret</span> <span class="n">basic-auth</span> <span class="n">-o</span> <span class="n">jsonpath</span><span class="p">=</span><span class="s2">&quot;{.data.basic-auth-password}&quot;</span> <span class="p">|</span> <span class="n">base64</span> <span class="p">-</span><span class="n">-decode</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="p">\</span>
<span class="nb">echo </span><span class="s2">&quot;OpenFaaS admin password: $PASSWORD&quot;</span>

<span class="n">输出密码为</span><span class="err">：</span>
<span class="n">OpenFaaS</span> <span class="n">admin</span> <span class="n">password</span><span class="p">:</span> <span class="n">8hG1vZOzFfBs</span>
</code></pre></div>
<h2 id="42_gateway">4.2 访问gateway管理界面<a class="headerlink" href="#42_gateway" title="Permanent link">&para;</a></h2>
<blockquote>
<p>打开gateway界面，用户名为admin，密码为上面查到内容。</p>
</blockquote>
<p><img alt="image-20221124113114148" src="../../../img/kubernetes/kubernetes_openfass/image-20221124113114148.png" /></p>
<p><img alt="image-20221124113230431" src="../../../img/kubernetes/kubernetes_openfass/image-20221124113230431.png" /></p>
<p><img alt="image-20221124113610809" src="../../../img/kubernetes/kubernetes_openfass/image-20221124113610809.png" /></p>
<h1 id="openfaas_2">五、OpenFaaS初体验<a class="headerlink" href="#openfaas_2" title="Permanent link">&para;</a></h1>
<p><img alt="image-20221124114009593" src="../../../img/kubernetes/kubernetes_openfass/image-20221124114009593.png" /></p>
<p><img alt="image-20221124114309331" src="../../../img/kubernetes/kubernetes_openfass/image-20221124114309331.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c"># kubectl get all -n openfaas-fn</span>
<span class="n">NAME</span>                       <span class="n">READY</span>   <span class="n">STATUS</span>    <span class="n">RESTARTS</span>   <span class="n">AGE</span>
<span class="n">pod</span><span class="p">/</span><span class="n">env</span><span class="p">-</span><span class="n">5f5d786cc7-wx9md</span>   <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">0</span>          <span class="n">7m43s</span>

<span class="n">NAME</span>          <span class="nb">TYPE </span>       <span class="n">CLUSTER-IP</span>    <span class="n">EXTERNAL-IP</span>   <span class="n">PORT</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>    <span class="n">AGE</span>
<span class="n">service</span><span class="p">/</span><span class="n">env</span>   <span class="n">ClusterIP</span>   <span class="n">10</span><span class="p">.</span><span class="n">96</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">160</span>   <span class="p">&lt;</span><span class="n">none</span><span class="p">&gt;</span>        <span class="n">8080</span><span class="p">/</span><span class="n">TCP</span>   <span class="n">7m43s</span>

<span class="n">NAME</span>                  <span class="n">READY</span>   <span class="n">UP-TO-DATE</span>   <span class="n">AVAILABLE</span>   <span class="n">AGE</span>
<span class="n">deployment</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">env</span>   <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">1</span>            <span class="n">1</span>           <span class="n">7m43s</span>

<span class="n">NAME</span>                             <span class="n">DESIRED</span>   <span class="n">CURRENT</span>   <span class="n">READY</span>   <span class="n">AGE</span>
<span class="n">replicaset</span><span class="p">.</span><span class="n">apps</span><span class="p">/</span><span class="n">env</span><span class="p">-</span><span class="n">5f5d786cc7</span>   <span class="n">1</span>         <span class="n">1</span>         <span class="n">1</span>       <span class="n">7m43s</span>
</code></pre></div>
<p>获取访问信息</p>
<p><img alt="image-20221124114506374" src="../../../img/kubernetes/kubernetes_openfass/image-20221124114506374.png" /></p>
<p><img alt="image-20221124114909763" src="../../../img/kubernetes/kubernetes_openfass/image-20221124114909763.png" /></p>
<p><img alt="image-20221124114541763" src="../../../img/kubernetes/kubernetes_openfass/image-20221124114541763.png" /></p>
<p><img alt="image-20221124120155418" src="../../../img/kubernetes/kubernetes_openfass/image-20221124120155418.png" /></p>
<h1 id="function">六、开发和部署function<a class="headerlink" href="#function" title="Permanent link">&para;</a></h1>
<p><img alt="image-20221124182027663" src="../../../img/kubernetes/kubernetes_openfass/image-20221124182027663.png" /></p>
<h2 id="61_faas-cli">6.1 安装命令行工具 faas-cli<a class="headerlink" href="#61_faas-cli" title="Permanent link">&para;</a></h2>
<p><img alt="image-20221124121217520" src="../../../img/kubernetes/kubernetes_openfass/image-20221124121217520.png" /></p>
<div class="highlight"><pre><span></span><code> <span class="nb">curl </span><span class="n">-sSL</span> <span class="n">https</span><span class="p">://</span><span class="n">cli</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">com</span> <span class="p">|</span> <span class="n">sh</span>
</code></pre></div>
<p><img alt="image-20221124121404135" src="../../../img/kubernetes/kubernetes_openfass/image-20221124121404135.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli version</span>
  <span class="n">___</span>                   <span class="n">_____</span>           <span class="n">____</span>
 <span class="p">/</span> <span class="n">_</span> <span class="p">\</span> <span class="n">_</span> <span class="n">__</span>   <span class="n">___</span> <span class="n">_</span> <span class="n">__</span> <span class="p">|</span>  <span class="n">___</span><span class="p">|</span><span class="n">_</span> <span class="n">_</span>  <span class="n">__</span> <span class="n">_</span><span class="p">/</span> <span class="n">___</span><span class="p">|</span>
<span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="s1">&#39;_ \ / _ \ &#39;</span><span class="n">_</span> <span class="p">\|</span> <span class="p">|</span><span class="n">_</span> <span class="p">/</span> <span class="n">_</span><span class="p">`</span> <span class="p">|/</span> <span class="n">_</span><span class="p">`</span> <span class="p">\</span><span class="n">___</span> <span class="p">\</span>
<span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">)</span> <span class="p">|</span>  <span class="n">__</span><span class="p">/</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span>  <span class="n">_</span><span class="p">|</span> <span class="p">(</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span> <span class="p">(</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span><span class="n">___</span><span class="p">)</span> <span class="p">|</span>
 <span class="p">\</span><span class="n">___</span><span class="p">/|</span> <span class="p">.</span><span class="n">__</span><span class="p">/</span> <span class="p">\</span><span class="n">___</span><span class="p">|</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">|</span><span class="n">_</span><span class="p">|</span>  <span class="p">\</span><span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="p">|\</span><span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="p">|</span><span class="n">____</span><span class="p">/</span>
      <span class="p">|</span><span class="n">_</span><span class="p">|</span>

<span class="n">CLI</span><span class="p">:</span>
 <span class="n">commit</span><span class="p">:</span>  <span class="n">0074051aeb837f5f160ee8736341460468b5c190</span>
 <span class="n">version</span><span class="p">:</span> <span class="n">0</span><span class="p">.</span><span class="n">15</span><span class="p">.</span><span class="n">4</span>
</code></pre></div>
<h2 id="62_faas-cli">6.2 登录faas-cli工具<a class="headerlink" href="#62_faas-cli" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">设置OpenFaas</span> <span class="n">gateway的地址</span>
<span class="n">export</span> <span class="n">OPENFAAS_URL</span><span class="p">=</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span><span class="p">:</span><span class="n">31112</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">获取OpenFaas</span> <span class="n">gateway</span> <span class="n">admin的密码</span>
<span class="p">$</span> <span class="n">PASSWORD</span><span class="p">=$(</span><span class="n">kubectl</span> <span class="n">-n</span> <span class="n">openfaas</span> <span class="n">get</span> <span class="n">secret</span> <span class="n">basic-auth</span> <span class="n">-o</span> <span class="n">jsonpath</span><span class="p">=</span><span class="s2">&quot;{.data.basic-auth-password}&quot;</span> <span class="p">|</span> <span class="n">base64</span> <span class="p">-</span><span class="n">-decode</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="nb">echo </span><span class="s2">&quot;OpenFaaS admin password: $PASSWORD&quot;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code> <span class="n">登录faas-cli</span>
<span class="p">$</span> <span class="nb">echo </span><span class="n">-n</span> <span class="nv">$PASSWORD</span> <span class="p">|</span> <span class="n">faas-cli</span> <span class="n">login</span> <span class="n">-g</span> <span class="nv">$OPENFAAS_URL</span> <span class="n">-u</span> <span class="n">admin</span> <span class="p">-</span><span class="n">-password-stdin</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">登录提示</span><span class="err">：</span>
<span class="n">Calling</span> <span class="n">the</span> <span class="n">OpenFaaS</span> <span class="n">server</span> <span class="n">to</span> <span class="n">validate</span> <span class="n">the</span> <span class="n">credentials</span><span class="p">...</span>
<span class="n">WARNING</span><span class="p">!</span> <span class="n">You</span> <span class="n">are</span> <span class="n">not</span> <span class="n">using</span> <span class="n">an</span> <span class="n">encrypted</span> <span class="n">connection</span> <span class="n">to</span> <span class="n">the</span> <span class="n">gateway</span><span class="p">,</span> <span class="n">consider</span> <span class="n">using</span> <span class="n">HTTPS</span><span class="p">.</span>
<span class="n">credentials</span> <span class="n">saved</span> <span class="k">for</span> <span class="n">admin</span> <span class="n">http</span><span class="p">://</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span><span class="p">:</span><span class="n">31112</span>
</code></pre></div>
<h2 id="63">6.3 获取模板列表<a class="headerlink" href="#63" title="Permanent link">&para;</a></h2>
<p>OpenFaas提供了各种语言的模板列表，可以通过以下命令获取最新的列表</p>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli template pull</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">下载提示</span><span class="err">：</span>
<span class="n">Fetch</span> <span class="n">templates</span> <span class="n">from</span> <span class="n">repository</span><span class="p">:</span> <span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">templates</span><span class="p">.</span><span class="n">git</span> <span class="n">at</span>
<span class="n">2022</span><span class="p">/</span><span class="n">11</span><span class="p">/</span><span class="n">24</span> <span class="n">12</span><span class="p">:</span><span class="n">25</span><span class="p">:</span><span class="n">08</span> <span class="n">Attempting</span> <span class="n">to</span> <span class="n">expand</span> <span class="n">templates</span> <span class="n">from</span> <span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">templates</span><span class="p">.</span><span class="n">git</span>
<span class="n">2022</span><span class="p">/</span><span class="n">11</span><span class="p">/</span><span class="n">24</span> <span class="n">12</span><span class="p">:</span><span class="n">25</span><span class="p">:</span><span class="n">11</span> <span class="n">Fetched</span> <span class="n">17</span> <span class="n">template</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="n">csharp</span> <span class="n">dockerfile</span> <span class="n">go</span> <span class="n">java11</span> <span class="n">java11-vert-x</span> <span class="n">node</span> <span class="n">node12</span> <span class="n">node12-debian</span> <span class="n">node14</span> <span class="n">node16</span> <span class="n">node17</span> <span class="n">php7</span> <span class="n">php8</span> <span class="n">python</span> <span class="n">python3</span> <span class="n">python3-debian</span> <span class="n">ruby</span><span class="p">]</span> <span class="n">from</span> <span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">templates</span><span class="p">.</span><span class="n">git</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">查看模板列表</span>
<span class="c"># faas-cli template store list</span>

<span class="n">NAME</span>                     <span class="n">SOURCE</span>             <span class="n">DESCRIPTION</span>
<span class="n">csharp</span>                   <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">C</span><span class="c"># template</span>
<span class="n">dockerfile</span>               <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">Dockerfile</span> <span class="n">template</span>
<span class="n">go</span>                       <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">Golang</span> <span class="n">template</span>
<span class="n">java11</span>                   <span class="n">openfaas</span>           <span class="n">Java</span> <span class="n">11</span> <span class="n">template</span>
<span class="n">java11-vert-x</span>            <span class="n">openfaas</span>           <span class="n">Java</span> <span class="n">11</span> <span class="n">Vert</span><span class="p">.</span><span class="n">x</span> <span class="n">template</span>
<span class="n">node17</span>                   <span class="n">openfaas</span>           <span class="n">HTTP-based</span> <span class="n">Node</span> <span class="n">17</span> <span class="n">template</span>
<span class="n">node16</span>                   <span class="n">openfaas</span>           <span class="n">HTTP-based</span> <span class="n">Node</span> <span class="n">16</span> <span class="n">template</span>
<span class="n">node14</span>                   <span class="n">openfaas</span>           <span class="n">HTTP-based</span> <span class="n">Node</span> <span class="n">14</span> <span class="n">template</span>
<span class="n">node12</span>                   <span class="n">openfaas</span>           <span class="n">HTTP-based</span> <span class="n">Node</span> <span class="n">12</span> <span class="n">template</span>
<span class="n">node</span>                     <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">NodeJS</span> <span class="n">8</span> <span class="n">template</span>
<span class="n">puppeteer-nodelts</span>        <span class="n">alexellis</span>          <span class="n">A</span> <span class="n">puppeteer</span> <span class="n">template</span> <span class="k">for</span> <span class="n">headless</span> <span class="n">Chrome</span>
<span class="n">php7</span>                     <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">PHP</span> <span class="n">7</span> <span class="n">template</span>
<span class="n">php8</span>                     <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">PHP</span> <span class="n">8</span> <span class="n">template</span>
<span class="n">python</span>                   <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">Python</span> <span class="n">2</span><span class="p">.</span><span class="n">7</span> <span class="n">template</span>
<span class="n">python3</span>                  <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">Python</span> <span class="n">3</span><span class="p">.</span><span class="n">6</span> <span class="n">template</span>
<span class="n">python3-dlrs</span>             <span class="n">intel</span>              <span class="n">Deep</span> <span class="n">Learning</span> <span class="n">Reference</span> <span class="n">Stack</span> <span class="n">v0</span><span class="p">.</span><span class="n">4</span> <span class="k">for</span> <span class="n">ML</span> <span class="n">workloads</span>
<span class="n">ruby</span>                     <span class="n">openfaas</span>           <span class="n">Classic</span> <span class="n">Ruby</span> <span class="n">2</span><span class="p">.</span><span class="n">5</span> <span class="n">template</span>
<span class="n">ruby-http</span>                <span class="n">openfaas</span>           <span class="n">Ruby</span> <span class="n">2</span><span class="p">.</span><span class="n">4</span> <span class="n">HTTP</span> <span class="n">template</span>
<span class="n">python27-flask</span>           <span class="n">openfaas</span>           <span class="n">Python</span> <span class="n">2</span><span class="p">.</span><span class="n">7</span> <span class="n">Flask</span> <span class="n">template</span>
<span class="n">python3-flask</span>            <span class="n">openfaas</span>           <span class="n">Python</span> <span class="n">3</span><span class="p">.</span><span class="n">7</span> <span class="n">Flask</span> <span class="n">template</span>
<span class="n">python3-flask-debian</span>     <span class="n">openfaas</span>           <span class="n">Python</span> <span class="n">3</span><span class="p">.</span><span class="n">7</span> <span class="n">Flask</span> <span class="n">template</span> <span class="n">based</span> <span class="n">on</span> <span class="n">Debian</span>
<span class="n">python3-http</span>             <span class="n">openfaas</span>           <span class="n">Python</span> <span class="n">3</span><span class="p">.</span><span class="n">7</span> <span class="n">with</span> <span class="n">Flask</span> <span class="n">and</span> <span class="n">HTTP</span>
<span class="n">python3-http-debian</span>      <span class="n">openfaas</span>           <span class="n">Python</span> <span class="n">3</span><span class="p">.</span><span class="n">7</span> <span class="n">with</span> <span class="n">Flask</span> <span class="n">and</span> <span class="n">HTTP</span> <span class="n">based</span> <span class="n">on</span> <span class="n">Debian</span>
<span class="n">golang-http</span>              <span class="n">openfaas</span>           <span class="n">Golang</span> <span class="n">HTTP</span> <span class="n">template</span>
<span class="n">golang-middleware</span>        <span class="n">openfaas</span>           <span class="n">Golang</span> <span class="n">Middleware</span> <span class="n">template</span>
<span class="n">python3-debian</span>           <span class="n">openfaas</span>           <span class="n">Python</span> <span class="n">3</span> <span class="n">Debian</span> <span class="n">template</span>
<span class="n">powershell-template</span>      <span class="n">openfaas-incubator</span> <span class="n">Powershell</span> <span class="n">Core</span> <span class="n">Ubuntu</span><span class="p">:</span><span class="n">16</span><span class="p">.</span><span class="n">04</span> <span class="n">template</span>
<span class="n">powershell-http-template</span> <span class="n">openfaas-incubator</span> <span class="n">Powershell</span> <span class="n">Core</span> <span class="n">HTTP</span> <span class="n">Ubuntu</span><span class="p">:</span><span class="n">16</span><span class="p">.</span><span class="n">04</span> <span class="n">template</span>
<span class="n">rust</span>                     <span class="n">booyaa</span>             <span class="n">Rust</span> <span class="n">template</span>
<span class="n">crystal</span>                  <span class="n">tpei</span>               <span class="n">Crystal</span> <span class="n">template</span>
<span class="n">csharp-httprequest</span>       <span class="n">distantcam</span>         <span class="n">C</span><span class="c"># HTTP template</span>
<span class="n">csharp-kestrel</span>           <span class="n">burtonr</span>            <span class="n">C</span><span class="c"># Kestrel HTTP template</span>
<span class="n">vertx-native</span>             <span class="n">pmlopes</span>            <span class="n">Eclipse</span> <span class="n">Vert</span><span class="p">.</span><span class="n">x</span> <span class="n">native</span> <span class="n">image</span> <span class="n">template</span>
<span class="n">swift</span>                    <span class="n">affix</span>              <span class="n">Swift</span> <span class="n">4</span><span class="p">.</span><span class="n">2</span> <span class="n">Template</span>
<span class="n">lua53</span>                    <span class="n">affix</span>              <span class="n">Lua</span> <span class="n">5</span><span class="p">.</span><span class="n">3</span> <span class="n">Template</span>
<span class="n">vala</span>                     <span class="n">affix</span>              <span class="n">Vala</span> <span class="n">Template</span>
<span class="n">vala-http</span>                <span class="n">affix</span>              <span class="n">Non-Forking</span> <span class="n">Vala</span> <span class="n">Template</span>
<span class="n">quarkus-native</span>           <span class="n">pmlopes</span>            <span class="n">Quarkus</span><span class="p">.</span><span class="n">io</span> <span class="n">native</span> <span class="n">image</span> <span class="n">template</span>
<span class="n">perl-alpine</span>              <span class="n">tmiklas</span>            <span class="n">Perl</span> <span class="n">language</span> <span class="n">template</span> <span class="n">based</span> <span class="n">on</span> <span class="n">Alpine</span> <span class="n">image</span>
<span class="n">crystal-http</span>             <span class="n">koffeinfrei</span>        <span class="n">Crystal</span> <span class="n">HTTP</span> <span class="n">template</span>
<span class="n">rust-http</span>                <span class="n">openfaas-incubator</span> <span class="n">Rust</span> <span class="n">HTTP</span> <span class="n">template</span>
<span class="n">bash-streaming</span>           <span class="n">openfaas-incubator</span> <span class="n">Bash</span> <span class="n">Streaming</span> <span class="n">template</span>
<span class="n">cobol</span>                    <span class="n">devries</span>            <span class="n">COBOL</span> <span class="n">Template</span>
</code></pre></div>
<h2 id="64">6.4 根据模板创建项目<a class="headerlink" href="#64" title="Permanent link">&para;</a></h2>
<blockquote>
<p>需要本地容器镜像仓库harbor</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli new helloworld --lang node17 -p 192.168.10.163/library</span>
<span class="n">Folder</span><span class="p">:</span> <span class="n">hellowoard</span> <span class="n">created</span><span class="p">.</span>
  <span class="n">___</span>                   <span class="n">_____</span>           <span class="n">____</span>
 <span class="p">/</span> <span class="n">_</span> <span class="p">\</span> <span class="n">_</span> <span class="n">__</span>   <span class="n">___</span> <span class="n">_</span> <span class="n">__</span> <span class="p">|</span>  <span class="n">___</span><span class="p">|</span><span class="n">_</span> <span class="n">_</span>  <span class="n">__</span> <span class="n">_</span><span class="p">/</span> <span class="n">___</span><span class="p">|</span>
<span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="s1">&#39;_ \ / _ \ &#39;</span><span class="n">_</span> <span class="p">\|</span> <span class="p">|</span><span class="n">_</span> <span class="p">/</span> <span class="n">_</span><span class="p">`</span> <span class="p">|/</span> <span class="n">_</span><span class="p">`</span> <span class="p">\</span><span class="n">___</span> <span class="p">\</span>
<span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">)</span> <span class="p">|</span>  <span class="n">__</span><span class="p">/</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span>  <span class="n">_</span><span class="p">|</span> <span class="p">(</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span> <span class="p">(</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span><span class="n">___</span><span class="p">)</span> <span class="p">|</span>
 <span class="p">\</span><span class="n">___</span><span class="p">/|</span> <span class="p">.</span><span class="n">__</span><span class="p">/</span> <span class="p">\</span><span class="n">___</span><span class="p">|</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">|</span><span class="n">_</span><span class="p">|</span>  <span class="p">\</span><span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="p">|\</span><span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="p">|</span><span class="n">____</span><span class="p">/</span>
      <span class="p">|</span><span class="n">_</span><span class="p">|</span>


<span class="k">Function</span> <span class="n">created</span> <span class="k">in</span> <span class="n">folder</span><span class="p">:</span> <span class="n">helloworld</span>
<span class="n">Stack</span> <span class="n">file</span> <span class="n">written</span><span class="p">:</span> <span class="n">helloworld</span><span class="p">.</span><span class="n">yml</span>

<span class="n">Notes</span><span class="p">:</span>
<span class="n">You</span> <span class="n">have</span> <span class="n">created</span> <span class="n">a</span> <span class="n">new</span> <span class="k">function</span> <span class="n">which</span> <span class="n">uses</span> <span class="n">Node</span><span class="p">.</span><span class="n">js</span> <span class="n">17</span> <span class="n">and</span> <span class="n">the</span> <span class="n">OpenFaaS</span>
<span class="n">of-watchdog</span> <span class="n">which</span> <span class="n">gives</span> <span class="n">greater</span> <span class="n">control</span> <span class="n">over</span> <span class="n">HTTP</span> <span class="n">responses</span><span class="p">.</span>

<span class="n">npm</span> <span class="n">i</span> <span class="p">-</span><span class="n">-save</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">add</span> <span class="n">third-party</span> <span class="n">packages</span> <span class="n">like</span> <span class="n">request</span> <span class="n">or</span> <span class="n">cheerio</span>
<span class="n">npm</span> <span class="n">documentation</span><span class="p">:</span> <span class="n">https</span><span class="p">://</span><span class="n">docs</span><span class="p">.</span><span class="n">npmjs</span><span class="p">.</span><span class="n">com</span><span class="p">/</span>

<span class="n">Unit</span> <span class="n">tests</span> <span class="n">are</span> <span class="n">run</span> <span class="n">at</span> <span class="n">build</span> <span class="n">time</span> <span class="n">via</span> <span class="s2">&quot;npm run&quot;</span><span class="p">,</span> <span class="n">edit</span> <span class="n">package</span><span class="p">.</span><span class="n">json</span> <span class="n">to</span> <span class="n">specify</span>
<span class="n">how</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">execute</span> <span class="n">them</span><span class="p">.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># ls</span>
<span class="n">hellowoard</span><span class="p">.</span><span class="n">yml</span> 
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># vim hellowoard.yml</span>
<span class="c"># cat hellowoard.yml</span>
<span class="n">version</span><span class="p">:</span> <span class="n">1</span><span class="p">.</span><span class="n">0</span>
<span class="n">provider</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">openfaas</span>
  <span class="n">gateway</span><span class="p">:</span> <span class="n">http</span><span class="p">://</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span><span class="p">:</span><span class="n">31112</span>
<span class="n">functions</span><span class="p">:</span>
  <span class="n">hellowoard</span><span class="p">:</span>
    <span class="n">lang</span><span class="p">:</span> <span class="n">node17</span>
    <span class="n">handler</span><span class="p">:</span> <span class="p">./</span><span class="n">hellowoard</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">helloworld</span><span class="p">:</span><span class="n">latest</span>
</code></pre></div>
<h2 id="65_function">6.5 构建并发布function<a class="headerlink" href="#65_function" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c"># docker login 192.168.10.163</span>
<span class="n">Username</span><span class="p">:</span> <span class="n">admin</span>
<span class="n">Password</span><span class="p">:</span>
<span class="n">WARNING</span><span class="p">!</span> <span class="n">Your</span> <span class="n">password</span> <span class="n">will</span> <span class="n">be</span> <span class="n">stored</span> <span class="n">unencrypted</span> <span class="k">in</span> <span class="p">/</span><span class="n">root</span><span class="p">/.</span><span class="n">docker</span><span class="p">/</span><span class="n">config</span><span class="p">.</span><span class="n">json</span><span class="p">.</span>
<span class="n">Configure</span> <span class="n">a</span> <span class="n">credential</span> <span class="n">helper</span> <span class="n">to</span> <span class="n">remove</span> <span class="n">this</span> <span class="n">warning</span><span class="p">.</span> <span class="n">See</span>
<span class="n">https</span><span class="p">://</span><span class="n">docs</span><span class="p">.</span><span class="n">docker</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">engine</span><span class="p">/</span><span class="n">reference</span><span class="p">/</span><span class="n">commandline</span><span class="p">/</span><span class="n">login</span><span class="p">/</span><span class="c">#credentials-store</span>

<span class="n">Login</span> <span class="n">Succeeded</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli build -f hellowoard.yml</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">输出内容</span><span class="err">：</span><span class="n">现场制作容器镜像</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="p">&gt;</span> <span class="n">Building</span> <span class="n">hellowoard</span><span class="p">.</span>
<span class="n">Clearing</span> <span class="n">temporary</span> <span class="n">build</span> <span class="n">folder</span><span class="p">:</span> <span class="p">./</span><span class="n">build</span><span class="p">/</span><span class="n">hellowoard</span><span class="p">/</span>
<span class="n">Preparing</span><span class="p">:</span> <span class="p">./</span><span class="n">hellowoard</span><span class="p">/</span> <span class="n">build</span><span class="p">/</span><span class="n">hellowoard</span><span class="p">/</span><span class="k">function</span>
<span class="n">Building</span><span class="p">:</span> <span class="n">www</span><span class="p">.</span><span class="n">kubemsb</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">hellowoard</span><span class="p">:</span><span class="n">latest</span> <span class="n">with</span> <span class="n">node17</span> <span class="n">template</span><span class="p">.</span> <span class="n">Please</span> <span class="n">wait</span><span class="p">..</span>
<span class="n">Sending</span> <span class="n">build</span> <span class="n">context</span> <span class="n">to</span> <span class="n">Docker</span> <span class="n">daemon</span>   <span class="n">12</span><span class="p">.</span><span class="n">8kB</span>
<span class="n">Step</span> <span class="n">1</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">FROM</span> <span class="p">-</span><span class="n">-platform</span><span class="p">=${</span><span class="n">TARGETPLATFORM</span><span class="p">:</span><span class="n">-linux</span><span class="p">/</span><span class="n">amd64</span><span class="p">}</span> <span class="n">ghcr</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">of-watchdog</span><span class="p">:</span><span class="n">0</span><span class="p">.</span><span class="n">9</span><span class="p">.</span><span class="n">10</span> <span class="n">as</span> <span class="n">watchdog</span>
 <span class="p">---&gt;</span> <span class="n">9f97468a4531</span>
<span class="n">Step</span> <span class="n">2</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">FROM</span> <span class="p">-</span><span class="n">-platform</span><span class="p">=${</span><span class="n">TARGETPLATFORM</span><span class="p">:</span><span class="n">-linux</span><span class="p">/</span><span class="n">amd64</span><span class="p">}</span> <span class="n">node</span><span class="p">:</span><span class="n">17-alpine</span> <span class="n">as</span> <span class="n">ship</span>
 <span class="p">---&gt;</span> <span class="n">57488723f087</span>
<span class="n">Step</span> <span class="n">3</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ARG</span> <span class="n">TARGETPLATFORM</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">0b7f8643414c</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">0b7f8643414c</span>
 <span class="p">---&gt;</span> <span class="n">6ca3a7a51d47</span>
<span class="n">Step</span> <span class="n">4</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ARG</span> <span class="n">BUILDPLATFORM</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">82454128d8c4</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">82454128d8c4</span>
 <span class="p">---&gt;</span> <span class="n">638ddef53476</span>
<span class="n">Step</span> <span class="n">5</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="p">-</span><span class="n">-from</span><span class="p">=</span><span class="n">watchdog</span> <span class="p">/</span><span class="n">fwatchdog</span> <span class="p">/</span><span class="n">usr</span><span class="p">/</span><span class="n">bin</span><span class="p">/</span><span class="n">fwatchdog</span>
 <span class="p">---&gt;</span> <span class="n">e653b619f59e</span>
<span class="n">Step</span> <span class="n">6</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">chmod</span> <span class="p">+</span><span class="n">x</span> <span class="p">/</span><span class="n">usr</span><span class="p">/</span><span class="n">bin</span><span class="p">/</span><span class="n">fwatchdog</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">897382feb255</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">897382feb255</span>
 <span class="p">---&gt;</span> <span class="n">59c994b15db8</span>
<span class="n">Step</span> <span class="n">7</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">apk</span> <span class="p">-</span><span class="n">-no-cache</span> <span class="n">add</span> <span class="nb">curl </span><span class="n">ca-certificates</span>     <span class="p">&amp;&amp;</span> <span class="n">addgroup</span> <span class="n">-S</span> <span class="n">app</span> <span class="p">&amp;&amp;</span> <span class="n">adduser</span> <span class="n">-S</span> <span class="n">-g</span> <span class="n">app</span> <span class="n">app</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">c4f01a1bc53f</span>
<span class="n">fetch</span> <span class="n">https</span><span class="p">://</span><span class="n">dl-cdn</span><span class="p">.</span><span class="n">alpinelinux</span><span class="p">.</span><span class="n">org</span><span class="p">/</span><span class="n">alpine</span><span class="p">/</span><span class="n">v3</span><span class="p">.</span><span class="n">15</span><span class="p">/</span><span class="n">main</span><span class="p">/</span><span class="n">x86_64</span><span class="p">/</span><span class="n">APKINDEX</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
<span class="n">fetch</span> <span class="n">https</span><span class="p">://</span><span class="n">dl-cdn</span><span class="p">.</span><span class="n">alpinelinux</span><span class="p">.</span><span class="n">org</span><span class="p">/</span><span class="n">alpine</span><span class="p">/</span><span class="n">v3</span><span class="p">.</span><span class="n">15</span><span class="p">/</span><span class="n">community</span><span class="p">/</span><span class="n">x86_64</span><span class="p">/</span><span class="n">APKINDEX</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
<span class="p">(</span><span class="n">1</span><span class="p">/</span><span class="n">5</span><span class="p">)</span> <span class="n">Installing</span> <span class="n">ca-certificates</span> <span class="p">(</span><span class="n">20220614-r0</span><span class="p">)</span>
<span class="p">(</span><span class="n">2</span><span class="p">/</span><span class="n">5</span><span class="p">)</span> <span class="n">Installing</span> <span class="n">brotli-libs</span> <span class="p">(</span><span class="n">1</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">9-r5</span><span class="p">)</span>
<span class="p">(</span><span class="n">3</span><span class="p">/</span><span class="n">5</span><span class="p">)</span> <span class="n">Installing</span> <span class="n">nghttp2-libs</span> <span class="p">(</span><span class="n">1</span><span class="p">.</span><span class="n">46</span><span class="p">.</span><span class="n">0-r0</span><span class="p">)</span>
<span class="p">(</span><span class="n">4</span><span class="p">/</span><span class="n">5</span><span class="p">)</span> <span class="n">Installing</span> <span class="n">libcurl</span> <span class="p">(</span><span class="n">7</span><span class="p">.</span><span class="n">80</span><span class="p">.</span><span class="n">0-r4</span><span class="p">)</span>
<span class="p">(</span><span class="n">5</span><span class="p">/</span><span class="n">5</span><span class="p">)</span> <span class="n">Installing</span> <span class="nb">curl </span><span class="p">(</span><span class="n">7</span><span class="p">.</span><span class="n">80</span><span class="p">.</span><span class="n">0-r4</span><span class="p">)</span>
<span class="n">Executing</span> <span class="n">busybox</span><span class="p">-</span><span class="n">1</span><span class="p">.</span><span class="n">34</span><span class="p">.</span><span class="n">1-r5</span><span class="p">.</span><span class="n">trigger</span>
<span class="n">Executing</span> <span class="n">ca-certificates</span><span class="p">-</span><span class="n">20220614-r0</span><span class="p">.</span><span class="n">trigger</span>
<span class="n">OK</span><span class="p">:</span> <span class="n">10</span> <span class="n">MiB</span> <span class="k">in</span> <span class="n">21</span> <span class="n">packages</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">c4f01a1bc53f</span>
 <span class="p">---&gt;</span> <span class="n">5bf3224bb8a3</span>
<span class="n">Step</span> <span class="n">8</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">NPM_CONFIG_LOGLEVEL</span> <span class="n">warn</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">59f234b7e326</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">59f234b7e326</span>
 <span class="p">---&gt;</span> <span class="n">a2d3940460fb</span>
<span class="n">Step</span> <span class="n">9</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">chmod</span> <span class="n">777</span> <span class="p">/</span><span class="n">tmp</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">46a686ba987a</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">46a686ba987a</span>
 <span class="p">---&gt;</span> <span class="n">7ea73920ff98</span>
<span class="n">Step</span> <span class="n">10</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">USER</span> <span class="n">app</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">13b8c0e7d772</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">13b8c0e7d772</span>
 <span class="p">---&gt;</span> <span class="n">df386a70e76a</span>
<span class="n">Step</span> <span class="n">11</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">mkdir</span> <span class="n">-p</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="k">function</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">633412ec863d</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">633412ec863d</span>
 <span class="p">---&gt;</span> <span class="n">78bd26cddd01</span>
<span class="n">Step</span> <span class="n">12</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">WORKDIR</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">59176c2c8794</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">59176c2c8794</span>
 <span class="p">---&gt;</span> <span class="n">01d66992d0bb</span>
<span class="n">Step</span> <span class="n">13</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="p">-</span><span class="n">-chown</span><span class="p">=</span><span class="n">app</span><span class="p">:</span><span class="n">app</span> <span class="n">package</span><span class="p">.</span><span class="n">json</span> <span class="p">./</span>
 <span class="p">---&gt;</span> <span class="n">34e943bc9eff</span>
<span class="n">Step</span> <span class="n">14</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">npm</span> <span class="n">i</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">e96cdf2a1bc7</span>

<span class="n">added</span> <span class="n">57</span> <span class="n">packages</span><span class="p">,</span> <span class="n">and</span> <span class="n">audited</span> <span class="n">58</span> <span class="n">packages</span> <span class="k">in</span> <span class="n">4s</span>

<span class="n">7</span> <span class="n">packages</span> <span class="n">are</span> <span class="n">looking</span> <span class="k">for</span> <span class="n">funding</span>
  <span class="n">run</span> <span class="p">`</span><span class="n">npm</span> <span class="n">fund</span><span class="p">`</span> <span class="k">for</span> <span class="n">details</span>

<span class="n">found</span> <span class="n">0</span> <span class="n">vulnerabilities</span>
<span class="n">npm</span> <span class="n">notice</span>
<span class="n">npm</span> <span class="n">notice</span> <span class="n">New</span> <span class="n">major</span> <span class="n">version</span> <span class="n">of</span> <span class="n">npm</span> <span class="n">available</span><span class="p">!</span> <span class="n">8</span><span class="p">.</span><span class="n">11</span><span class="p">.</span><span class="n">0</span> <span class="p">-&gt;</span> <span class="n">9</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">2</span>
<span class="n">npm</span> <span class="n">notice</span> <span class="n">Changelog</span><span class="p">:</span> <span class="p">&lt;</span><span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">npm</span><span class="p">/</span><span class="n">cli</span><span class="p">/</span><span class="n">releases</span><span class="p">/</span><span class="n">tag</span><span class="p">/</span><span class="n">v9</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">2</span><span class="p">&gt;</span>
<span class="n">npm</span> <span class="n">notice</span> <span class="n">Run</span> <span class="p">`</span><span class="n">npm</span> <span class="n">install</span> <span class="n">-g</span> <span class="n">npm</span><span class="nv">@9</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">2</span><span class="p">`</span> <span class="n">to</span> <span class="n">update</span><span class="p">!</span>
<span class="n">npm</span> <span class="n">notice</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">e96cdf2a1bc7</span>
 <span class="p">---&gt;</span> <span class="n">2e8f491b4ee5</span>
<span class="n">Step</span> <span class="n">15</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="p">-</span><span class="n">-chown</span><span class="p">=</span><span class="n">app</span><span class="p">:</span><span class="n">app</span> <span class="n">index</span><span class="p">.</span><span class="n">js</span> <span class="p">./</span>
 <span class="p">---&gt;</span> <span class="n">d101cde972b3</span>
<span class="n">Step</span> <span class="n">16</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">WORKDIR</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="k">function</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">fe5700f37a20</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">fe5700f37a20</span>
 <span class="p">---&gt;</span> <span class="n">b1d49b003ebb</span>
<span class="n">Step</span> <span class="n">17</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="p">-</span><span class="n">-chown</span><span class="p">=</span><span class="n">app</span><span class="p">:</span><span class="n">app</span> <span class="k">function</span><span class="p">/*.</span><span class="n">json</span> <span class="p">./</span>
 <span class="p">---&gt;</span> <span class="n">3e7f5a4fe5ae</span>
<span class="n">Step</span> <span class="n">18</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">npm</span> <span class="n">i</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">37135d3aa520</span>

<span class="n">up</span> <span class="n">to</span> <span class="n">date</span><span class="p">,</span> <span class="n">audited</span> <span class="n">1</span> <span class="n">package</span> <span class="k">in</span> <span class="n">137ms</span>

<span class="n">found</span> <span class="n">0</span> <span class="n">vulnerabilities</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">37135d3aa520</span>
 <span class="p">---&gt;</span> <span class="n">997da5f36cd4</span>
<span class="n">Step</span> <span class="n">19</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="p">-</span><span class="n">-chown</span><span class="p">=</span><span class="n">app</span><span class="p">:</span><span class="n">app</span> <span class="k">function</span><span class="p">/</span> <span class="p">./</span>
 <span class="p">---&gt;</span> <span class="n">7ca14d566a1d</span>
<span class="n">Step</span> <span class="n">20</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">npm</span> <span class="n">test</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">8ee1030b112f</span>

<span class="p">&gt;</span> <span class="n">openfaas-function</span><span class="nv">@1</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">0</span> <span class="n">test</span>
<span class="p">&gt;</span> <span class="nb">echo </span><span class="s2">&quot;Error: no test specified&quot;</span> <span class="p">&amp;&amp;</span> <span class="n">exit</span> <span class="n">0</span>

<span class="n">Error</span><span class="p">:</span> <span class="n">no</span> <span class="n">test</span> <span class="n">specified</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">8ee1030b112f</span>
 <span class="p">---&gt;</span> <span class="n">7b65e89a46eb</span>
<span class="n">Step</span> <span class="n">21</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">WORKDIR</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">9cd82539cef8</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">9cd82539cef8</span>
 <span class="p">---&gt;</span> <span class="n">d55568f994ac</span>
<span class="n">Step</span> <span class="n">22</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">cgi_headers</span><span class="p">=</span><span class="s2">&quot;true&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">7640c091a499</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">7640c091a499</span>
 <span class="p">---&gt;</span> <span class="n">1d4a00728497</span>
<span class="n">Step</span> <span class="n">23</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">fprocess</span><span class="p">=</span><span class="s2">&quot;node index.js&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">f7fbb1c52b44</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">f7fbb1c52b44</span>
 <span class="p">---&gt;</span> <span class="n">bb1d909c9c06</span>
<span class="n">Step</span> <span class="n">24</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">mode</span><span class="p">=</span><span class="s2">&quot;http&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">1fa2d2113def</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">1fa2d2113def</span>
 <span class="p">---&gt;</span> <span class="n">20398232e2c1</span>
<span class="n">Step</span> <span class="n">25</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">upstream_url</span><span class="p">=</span><span class="s2">&quot;http://127.0.0.1:3000&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">5c9cf3fda8cb</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">5c9cf3fda8cb</span>
 <span class="p">---&gt;</span> <span class="n">15fd083830c6</span>
<span class="n">Step</span> <span class="n">26</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">exec_timeout</span><span class="p">=</span><span class="s2">&quot;10s&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">686ede8f15b2</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">686ede8f15b2</span>
 <span class="p">---&gt;</span> <span class="n">4b061fc53091</span>
<span class="n">Step</span> <span class="n">27</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">write_timeout</span><span class="p">=</span><span class="s2">&quot;15s&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">d7cd8dcbb89c</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">d7cd8dcbb89c</span>
 <span class="p">---&gt;</span> <span class="n">6415ecf24827</span>
<span class="n">Step</span> <span class="n">28</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">read_timeout</span><span class="p">=</span><span class="s2">&quot;15s&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">a9c708e4fa6c</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">a9c708e4fa6c</span>
 <span class="p">---&gt;</span> <span class="n">92836ac38c09</span>
<span class="n">Step</span> <span class="n">29</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">prefix_logs</span><span class="p">=</span><span class="s2">&quot;false&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">4fd948efe2ba</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">4fd948efe2ba</span>
 <span class="p">---&gt;</span> <span class="n">a0c9c4a83ad6</span>
<span class="n">Step</span> <span class="n">30</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">HEALTHCHECK</span> <span class="p">-</span><span class="n">-interval</span><span class="p">=</span><span class="n">3s</span> <span class="n">CMD</span> <span class="p">[</span> <span class="n">-e</span> <span class="p">/</span><span class="n">tmp</span><span class="p">/.</span><span class="n">lock</span> <span class="p">]</span> <span class="p">||</span> <span class="n">exit</span> <span class="n">1</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">a7ea4775b045</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">a7ea4775b045</span>
 <span class="p">---&gt;</span> <span class="n">0a8359a2c326</span>
<span class="n">Step</span> <span class="n">31</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">CMD</span> <span class="p">[</span><span class="s2">&quot;fwatchdog&quot;</span><span class="p">]</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">13af34489af2</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">13af34489af2</span>
 <span class="p">---&gt;</span> <span class="n">58ef3dc504a2</span>
<span class="n">Successfully</span> <span class="n">built</span> <span class="n">58ef3dc504a2</span>
<span class="n">Successfully</span> <span class="n">tagged</span> <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">helloworld</span><span class="p">:</span><span class="n">latest</span>
<span class="n">Image</span><span class="p">:</span> <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">helloworld</span><span class="p">:</span><span class="n">latest</span> <span class="n">built</span><span class="p">.</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="p">&lt;</span> <span class="n">Building</span> <span class="n">hellowoard</span> <span class="n">done</span> <span class="k">in</span> <span class="n">12</span><span class="p">.</span><span class="n">64s</span><span class="p">.</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="n">Worker</span> <span class="n">done</span><span class="p">.</span>

<span class="n">Total</span> <span class="n">build</span> <span class="n">time</span><span class="p">:</span> <span class="n">12</span><span class="p">.</span><span class="n">64s</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># docker images</span>
<span class="n">REPOSITORY</span>                                <span class="n">TAG</span>               <span class="n">IMAGE</span> <span class="n">ID</span>       <span class="n">CREATED</span>          <span class="n">SIZE</span>
<span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">helloworld</span>        <span class="n">latest</span>            <span class="n">58ef3dc504a2</span>   <span class="n">53</span> <span class="n">seconds</span> <span class="n">ago</span>   <span class="n">194MB</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># # faas-cli push -f helloworld.yml</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="p">&gt;</span> <span class="n">Pushing</span> <span class="n">helloworld</span> <span class="p">[</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">helloworld</span><span class="p">:</span><span class="n">latest</span><span class="p">]</span>
<span class="n">The</span> <span class="n">push</span> <span class="n">refers</span> <span class="n">to</span> <span class="n">repository</span> <span class="p">[</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">helloworld</span><span class="p">]</span>
<span class="n">2f8ab7175cca</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">72580dd28d28</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">22e68554b4c4</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">e9970376b1c4</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">616e13af0ac0</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">43158d5b82e4</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">e272465983a4</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">64af5fc26ddf</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">896605964f7e</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">79b014d8db02</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">4607252a98e4</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">e6a74996eabe</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">db2e1fd51a80</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">19ebba8d6369</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">4fc242d58285</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">latest</span><span class="p">:</span> <span class="n">digest</span><span class="p">:</span> <span class="n">sha256</span><span class="p">:</span><span class="n">0f8253da4a46655c9bf34a65c538a31efd62634e89f886668f734cd0a4270fd3</span> <span class="n">size</span><span class="p">:</span> <span class="n">3660</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="p">&lt;</span> <span class="n">Pushing</span> <span class="n">helloworld</span> <span class="p">[</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">helloworld</span><span class="p">:</span><span class="n">latest</span><span class="p">]</span> <span class="n">done</span><span class="p">.</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="n">Worker</span> <span class="n">done</span><span class="p">.</span>
</code></pre></div>
<p><img alt="image-20221124175920457" src="../../../img/kubernetes/kubernetes_openfass/image-20221124175920457.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c">#  echo -n $PASSWORD | faas-cli login -g $OPENFAAS_URL -u admin --password-stdin</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli deploy -f helloworld.yml</span>
<span class="n">Deploying</span><span class="p">:</span> <span class="n">helloworld</span><span class="p">.</span>
<span class="n">WARNING</span><span class="p">!</span> <span class="n">You</span> <span class="n">are</span> <span class="n">not</span> <span class="n">using</span> <span class="n">an</span> <span class="n">encrypted</span> <span class="n">connection</span> <span class="n">to</span> <span class="n">the</span> <span class="n">gateway</span><span class="p">,</span> <span class="n">consider</span> <span class="n">using</span> <span class="n">HTTPS</span><span class="p">.</span>

<span class="n">Deployed</span><span class="p">.</span> <span class="n">202</span> <span class="n">Accepted</span><span class="p">.</span>
<span class="n">URL</span><span class="p">:</span> <span class="n">http</span><span class="p">://</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span><span class="p">:</span><span class="n">31112</span><span class="p">/</span><span class="k">function</span><span class="p">/</span><span class="n">helloworld</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># kubectl get pods -n openfaas-fn</span>
<span class="n">NAME</span>                          <span class="n">READY</span>   <span class="n">STATUS</span>    <span class="n">RESTARTS</span>   <span class="n">AGE</span>
<span class="n">helloworld</span><span class="p">-</span><span class="n">8668999bcc-qph5w</span>   <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">0</span>          <span class="n">17s</span>
</code></pre></div>
<p><img alt="image-20221124180309309" src="../../../img/kubernetes/kubernetes_openfass/image-20221124180309309.png" /></p>
<p><img alt="image-20221124181118239" src="../../../img/kubernetes/kubernetes_openfass/image-20221124181118239.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c"># curl http://192.168.10.160:31112/function/helloworld -X POST -d &#39;kubemsb&#39;</span>

<span class="p">{</span><span class="s2">&quot;body&quot;</span><span class="p">:</span><span class="s2">&quot;{\&quot;</span><span class="n">kubemsb</span><span class="p">\</span><span class="s2">&quot;:\&quot;</span><span class="p">\</span><span class="s2">&quot;}&quot;</span><span class="p">,</span><span class="s2">&quot;content-type&quot;</span><span class="p">:</span><span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli remove -f helloworld.yml</span>
<span class="n">Deleting</span><span class="p">:</span> <span class="n">helloworld</span><span class="p">.</span>
<span class="n">Removing</span> <span class="n">old</span> <span class="k">function</span><span class="p">.</span>
</code></pre></div>
<h1 id="function_1">七、部署其它编程语言模板function<a class="headerlink" href="#function_1" title="Permanent link">&para;</a></h1>
<div class="highlight"><pre><span></span><code><span class="c"># mkdir pl</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli new python-demo --lang python -p 192.168.10.163/library</span>

<span class="n">2022</span><span class="p">/</span><span class="n">11</span><span class="p">/</span><span class="n">24</span> <span class="n">18</span><span class="p">:</span><span class="n">25</span><span class="p">:</span><span class="n">01</span> <span class="n">No</span> <span class="n">templates</span> <span class="n">found</span> <span class="k">in</span> <span class="n">current</span> <span class="n">directory</span><span class="p">.</span>
<span class="n">2022</span><span class="p">/</span><span class="n">11</span><span class="p">/</span><span class="n">24</span> <span class="n">18</span><span class="p">:</span><span class="n">25</span><span class="p">:</span><span class="n">01</span> <span class="n">Attempting</span> <span class="n">to</span> <span class="n">expand</span> <span class="n">templates</span> <span class="n">from</span> <span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">templates</span><span class="p">.</span><span class="n">git</span>
<span class="n">2022</span><span class="p">/</span><span class="n">11</span><span class="p">/</span><span class="n">24</span> <span class="n">18</span><span class="p">:</span><span class="n">25</span><span class="p">:</span><span class="n">04</span> <span class="n">Fetched</span> <span class="n">17</span> <span class="n">template</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="p">:</span> <span class="p">[</span><span class="n">csharp</span> <span class="n">dockerfile</span> <span class="n">go</span> <span class="n">java11</span> <span class="n">java11-vert-x</span> <span class="n">node</span> <span class="n">node12</span> <span class="n">node12-debian</span> <span class="n">node14</span> <span class="n">node16</span> <span class="n">node17</span> <span class="n">php7</span> <span class="n">php8</span> <span class="n">python</span> <span class="n">python3</span> <span class="n">python3-debian</span> <span class="n">ruby</span><span class="p">]</span> <span class="n">from</span> <span class="n">https</span><span class="p">://</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">templates</span><span class="p">.</span><span class="n">git</span>
<span class="n">Folder</span><span class="p">:</span> <span class="n">python-demo</span> <span class="n">created</span><span class="p">.</span>
  <span class="n">___</span>                   <span class="n">_____</span>           <span class="n">____</span>
 <span class="p">/</span> <span class="n">_</span> <span class="p">\</span> <span class="n">_</span> <span class="n">__</span>   <span class="n">___</span> <span class="n">_</span> <span class="n">__</span> <span class="p">|</span>  <span class="n">___</span><span class="p">|</span><span class="n">_</span> <span class="n">_</span>  <span class="n">__</span> <span class="n">_</span><span class="p">/</span> <span class="n">___</span><span class="p">|</span>
<span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="s1">&#39;_ \ / _ \ &#39;</span><span class="n">_</span> <span class="p">\|</span> <span class="p">|</span><span class="n">_</span> <span class="p">/</span> <span class="n">_</span><span class="p">`</span> <span class="p">|/</span> <span class="n">_</span><span class="p">`</span> <span class="p">\</span><span class="n">___</span> <span class="p">\</span>
<span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">)</span> <span class="p">|</span>  <span class="n">__</span><span class="p">/</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span>  <span class="n">_</span><span class="p">|</span> <span class="p">(</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span> <span class="p">(</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span><span class="n">___</span><span class="p">)</span> <span class="p">|</span>
 <span class="p">\</span><span class="n">___</span><span class="p">/|</span> <span class="p">.</span><span class="n">__</span><span class="p">/</span> <span class="p">\</span><span class="n">___</span><span class="p">|</span><span class="n">_</span><span class="p">|</span> <span class="p">|</span><span class="n">_</span><span class="p">|</span><span class="n">_</span><span class="p">|</span>  <span class="p">\</span><span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="p">|\</span><span class="n">__</span><span class="p">,</span><span class="n">_</span><span class="p">|</span><span class="n">____</span><span class="p">/</span>
      <span class="p">|</span><span class="n">_</span><span class="p">|</span>


<span class="k">Function</span> <span class="n">created</span> <span class="k">in</span> <span class="n">folder</span><span class="p">:</span> <span class="n">python-demo</span>
<span class="n">Stack</span> <span class="n">file</span> <span class="n">written</span><span class="p">:</span> <span class="n">python-demo</span><span class="p">.</span><span class="n">yml</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># ls</span>
<span class="n">python-demo</span>  <span class="n">python-demo</span><span class="p">.</span><span class="n">yml</span>  <span class="n">template</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># vim python-demo.yml</span>
<span class="c"># cat python-demo.yml</span>
<span class="n">version</span><span class="p">:</span> <span class="n">1</span><span class="p">.</span><span class="n">0</span>
<span class="n">provider</span><span class="p">:</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">openfaas</span>
  <span class="n">gateway</span><span class="p">:</span> <span class="n">http</span><span class="p">://</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span><span class="p">:</span><span class="n">31112</span>
<span class="n">functions</span><span class="p">:</span>
  <span class="n">python-demo</span><span class="p">:</span>
    <span class="n">lang</span><span class="p">:</span> <span class="n">python</span>
    <span class="n">handler</span><span class="p">:</span> <span class="p">./</span><span class="n">python-demo</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">python-demo</span><span class="p">:</span><span class="n">latest</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># cd python-demo/</span>
<span class="p">[</span><span class="n">root</span><span class="nv">@k8s</span><span class="n">-master01</span> <span class="n">python-demo</span><span class="p">]</span><span class="c"># ls</span>
<span class="n">handler</span><span class="p">.</span><span class="n">py</span>  <span class="n">requirements</span><span class="p">.</span><span class="n">txt</span>
<span class="p">[</span><span class="n">root</span><span class="nv">@k8s</span><span class="n">-master01</span> <span class="n">python-demo</span><span class="p">]</span><span class="c"># cat handler.py</span>
<span class="n">def</span> <span class="n">handle</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="s2">&quot;&quot;&quot;handle a request to the function</span>
<span class="s2">    Args:</span>
<span class="s2">        req (str): request body</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">req</span>
<span class="p">[</span><span class="n">root</span><span class="nv">@k8s</span><span class="n">-master01</span> <span class="n">python-demo</span><span class="p">]</span><span class="c"># vim handler.py</span>
<span class="p">[</span><span class="n">root</span><span class="nv">@k8s</span><span class="n">-master01</span> <span class="n">python-demo</span><span class="p">]</span><span class="c"># cat handler.py</span>
<span class="n">def</span> <span class="n">handle</span><span class="p">(</span><span class="n">req</span><span class="p">):</span>
    <span class="s2">&quot;&quot;&quot;handle a request to the function</span>
<span class="s2">    Args:</span>
<span class="s2">        req (str): request body</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="s2">&quot;hello function &quot;</span> <span class="p">+</span> <span class="n">req</span> <span class="n">添加了内容</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">root</span><span class="nv">@k8s</span><span class="n">-master01</span> <span class="n">pl</span><span class="p">]</span><span class="c"># ls</span>
<span class="n">python-demo</span>  <span class="n">python-demo</span><span class="p">.</span><span class="n">yml</span>  <span class="n">template</span>
<span class="p">[</span><span class="n">root</span><span class="nv">@k8s</span><span class="n">-master01</span> <span class="n">pl</span><span class="p">]</span><span class="c"># faas-cli build -f python-demo.yml</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">输出内容</span><span class="err">：</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="p">&gt;</span> <span class="n">Building</span> <span class="n">python-demo</span><span class="p">.</span>
<span class="n">Clearing</span> <span class="n">temporary</span> <span class="n">build</span> <span class="n">folder</span><span class="p">:</span> <span class="p">./</span><span class="n">build</span><span class="p">/</span><span class="n">python-demo</span><span class="p">/</span>
<span class="n">Preparing</span><span class="p">:</span> <span class="p">./</span><span class="n">python-demo</span><span class="p">/</span> <span class="n">build</span><span class="p">/</span><span class="n">python-demo</span><span class="p">/</span><span class="k">function</span>
<span class="n">Building</span><span class="p">:</span> <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">python-demo</span><span class="p">:</span><span class="n">latest</span> <span class="n">with</span> <span class="n">python</span> <span class="n">template</span><span class="p">.</span> <span class="n">Please</span> <span class="n">wait</span><span class="p">..</span>
<span class="n">Sending</span> <span class="n">build</span> <span class="n">context</span> <span class="n">to</span> <span class="n">Docker</span> <span class="n">daemon</span>  <span class="n">8</span><span class="p">.</span><span class="n">192kB</span>
<span class="n">Step</span> <span class="n">1</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">FROM</span> <span class="p">-</span><span class="n">-platform</span><span class="p">=${</span><span class="n">TARGETPLATFORM</span><span class="p">:</span><span class="n">-linux</span><span class="p">/</span><span class="n">amd64</span><span class="p">}</span> <span class="n">ghcr</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">classic-watchdog</span><span class="p">:</span><span class="n">0</span><span class="p">.</span><span class="n">2</span><span class="p">.</span><span class="n">1</span> <span class="n">as</span> <span class="n">watchdog</span>
<span class="n">0</span><span class="p">.</span><span class="n">2</span><span class="p">.</span><span class="n">1</span><span class="p">:</span> <span class="n">Pulling</span> <span class="n">from</span> <span class="n">openfaas</span><span class="p">/</span><span class="n">classic-watchdog</span>
<span class="n">e1749af664ff</span><span class="p">:</span> <span class="n">Pulling</span> <span class="n">fs</span> <span class="n">layer</span>
<span class="n">e1749af664ff</span><span class="p">:</span> <span class="n">Verifying</span> <span class="n">Checksum</span>
<span class="n">e1749af664ff</span><span class="p">:</span> <span class="n">Download</span> <span class="n">complete</span>
<span class="n">e1749af664ff</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span>
<span class="n">Digest</span><span class="p">:</span> <span class="n">sha256</span><span class="p">:</span><span class="n">640de69b1d683cbfa73fd3b2d707d33a4e4570164c9795c3be028949688e5c61</span>
<span class="n">Status</span><span class="p">:</span> <span class="n">Downloaded</span> <span class="n">newer</span> <span class="n">image</span> <span class="k">for</span> <span class="n">ghcr</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">openfaas</span><span class="p">/</span><span class="n">classic-watchdog</span><span class="p">:</span><span class="n">0</span><span class="p">.</span><span class="n">2</span><span class="p">.</span><span class="n">1</span>
 <span class="p">---&gt;</span> <span class="n">021a98fdbddd</span>
<span class="n">Step</span> <span class="n">2</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">FROM</span> <span class="p">-</span><span class="n">-platform</span><span class="p">=${</span><span class="n">TARGETPLATFORM</span><span class="p">:</span><span class="n">-linux</span><span class="p">/</span><span class="n">amd64</span><span class="p">}</span> <span class="n">python</span><span class="p">:</span><span class="n">2</span><span class="p">.</span><span class="n">7-alpine</span>
<span class="n">2</span><span class="p">.</span><span class="n">7-alpine</span><span class="p">:</span> <span class="n">Pulling</span> <span class="n">from</span> <span class="n">library</span><span class="p">/</span><span class="n">python</span>
<span class="n">aad63a933944</span><span class="p">:</span> <span class="n">Pulling</span> <span class="n">fs</span> <span class="n">layer</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Pulling</span> <span class="n">fs</span> <span class="n">layer</span>
<span class="n">10ba96d218d3</span><span class="p">:</span> <span class="n">Pulling</span> <span class="n">fs</span> <span class="n">layer</span>
<span class="n">44ba9f6a4209</span><span class="p">:</span> <span class="n">Pulling</span> <span class="n">fs</span> <span class="n">layer</span>
<span class="n">44ba9f6a4209</span><span class="p">:</span> <span class="n">Waiting</span>
<span class="n">aad63a933944</span><span class="p">:</span> <span class="n">Download</span> <span class="n">complete</span>
<span class="n">aad63a933944</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span>
<span class="n">10ba96d218d3</span><span class="p">:</span> <span class="n">Verifying</span> <span class="n">Checksum</span>
<span class="n">10ba96d218d3</span><span class="p">:</span> <span class="n">Download</span> <span class="n">complete</span>
<span class="n">44ba9f6a4209</span><span class="p">:</span> <span class="n">Verifying</span> <span class="n">Checksum</span>
<span class="n">44ba9f6a4209</span><span class="p">:</span> <span class="n">Download</span> <span class="n">complete</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Retrying</span> <span class="k">in</span> <span class="n">5</span> <span class="n">seconds</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Retrying</span> <span class="k">in</span> <span class="n">4</span> <span class="n">seconds</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Retrying</span> <span class="k">in</span> <span class="n">3</span> <span class="n">seconds</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Retrying</span> <span class="k">in</span> <span class="n">2</span> <span class="n">seconds</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Retrying</span> <span class="k">in</span> <span class="n">1</span> <span class="n">second</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Verifying</span> <span class="n">Checksum</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Download</span> <span class="n">complete</span>
<span class="n">259d822268fb</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span>
<span class="n">10ba96d218d3</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span>
<span class="n">44ba9f6a4209</span><span class="p">:</span> <span class="n">Pull</span> <span class="n">complete</span>
<span class="n">Digest</span><span class="p">:</span> <span class="n">sha256</span><span class="p">:</span><span class="n">724d0540eb56ffaa6dd770aa13c3bc7dfc829dec561d87cb36b2f5b9ff8a760a</span>
<span class="n">Status</span><span class="p">:</span> <span class="n">Downloaded</span> <span class="n">newer</span> <span class="n">image</span> <span class="k">for</span> <span class="n">python</span><span class="p">:</span><span class="n">2</span><span class="p">.</span><span class="n">7-alpine</span>
 <span class="p">---&gt;</span> <span class="n">8579e446340f</span>
<span class="n">Step</span> <span class="n">3</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ARG</span> <span class="n">TARGETPLATFORM</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">c26ca1bbf850</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">c26ca1bbf850</span>
 <span class="p">---&gt;</span> <span class="n">f40c5f5b8fd1</span>
<span class="n">Step</span> <span class="n">4</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ARG</span> <span class="n">BUILDPLATFORM</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">a4151dd3cf5a</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">a4151dd3cf5a</span>
 <span class="p">---&gt;</span> <span class="n">75659f182395</span>
<span class="n">Step</span> <span class="n">5</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ARG</span> <span class="n">ADDITIONAL_PACKAGE</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">76a400f5de60</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">76a400f5de60</span>
 <span class="p">---&gt;</span> <span class="n">737eaa099199</span>
<span class="n">Step</span> <span class="n">6</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="p">-</span><span class="n">-from</span><span class="p">=</span><span class="n">watchdog</span> <span class="p">/</span><span class="n">fwatchdog</span> <span class="p">/</span><span class="n">usr</span><span class="p">/</span><span class="n">bin</span><span class="p">/</span><span class="n">fwatchdog</span>
 <span class="p">---&gt;</span> <span class="n">3b3e3e9fd519</span>
<span class="n">Step</span> <span class="n">7</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">chmod</span> <span class="p">+</span><span class="n">x</span> <span class="p">/</span><span class="n">usr</span><span class="p">/</span><span class="n">bin</span><span class="p">/</span><span class="n">fwatchdog</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">a714a0aa618b</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">a714a0aa618b</span>
 <span class="p">---&gt;</span> <span class="n">73061af0ecbb</span>
<span class="n">Step</span> <span class="n">8</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">apk</span> <span class="p">-</span><span class="n">-no-cache</span> <span class="n">add</span> <span class="n">ca-certificates</span> <span class="p">${</span><span class="n">ADDITIONAL_PACKAGE</span><span class="p">}</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">d53508362f5b</span>
<span class="n">fetch</span> <span class="n">http</span><span class="p">://</span><span class="n">dl-cdn</span><span class="p">.</span><span class="n">alpinelinux</span><span class="p">.</span><span class="n">org</span><span class="p">/</span><span class="n">alpine</span><span class="p">/</span><span class="n">v3</span><span class="p">.</span><span class="n">11</span><span class="p">/</span><span class="n">main</span><span class="p">/</span><span class="n">x86_64</span><span class="p">/</span><span class="n">APKINDEX</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
<span class="n">fetch</span> <span class="n">http</span><span class="p">://</span><span class="n">dl-cdn</span><span class="p">.</span><span class="n">alpinelinux</span><span class="p">.</span><span class="n">org</span><span class="p">/</span><span class="n">alpine</span><span class="p">/</span><span class="n">v3</span><span class="p">.</span><span class="n">11</span><span class="p">/</span><span class="n">community</span><span class="p">/</span><span class="n">x86_64</span><span class="p">/</span><span class="n">APKINDEX</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
<span class="n">OK</span><span class="p">:</span> <span class="n">11</span> <span class="n">MiB</span> <span class="k">in</span> <span class="n">32</span> <span class="n">packages</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">d53508362f5b</span>
 <span class="p">---&gt;</span> <span class="n">96dbdb8cba4c</span>
<span class="n">Step</span> <span class="n">9</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">addgroup</span> <span class="n">-S</span> <span class="n">app</span> <span class="p">&amp;&amp;</span> <span class="n">adduser</span> <span class="n">app</span> <span class="n">-S</span> <span class="n">-G</span> <span class="n">app</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">e5a46359d098</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">e5a46359d098</span>
 <span class="p">---&gt;</span> <span class="n">d0e784d71ee6</span>
<span class="n">Step</span> <span class="n">10</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">WORKDIR</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">46793fbe6fda</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">46793fbe6fda</span>
 <span class="p">---&gt;</span> <span class="n">05e976bdcd71</span>
<span class="n">Step</span> <span class="n">11</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="n">index</span><span class="p">.</span><span class="n">py</span>           <span class="p">.</span>
 <span class="p">---&gt;</span> <span class="n">d626bc3acb48</span>
<span class="n">Step</span> <span class="n">12</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="n">requirements</span><span class="p">.</span><span class="n">txt</span>   <span class="p">.</span>
 <span class="p">---&gt;</span> <span class="n">7b9ba7660a76</span>
<span class="n">Step</span> <span class="n">13</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">chown</span> <span class="n">-R</span> <span class="n">app</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span> <span class="p">&amp;&amp;</span>   <span class="n">mkdir</span> <span class="n">-p</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="n">python</span> <span class="p">&amp;&amp;</span> <span class="n">chown</span> <span class="n">-R</span> <span class="n">app</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">a35db473c903</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">a35db473c903</span>
 <span class="p">---&gt;</span> <span class="n">8e262945a3f2</span>
<span class="n">Step</span> <span class="n">14</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">USER</span> <span class="n">app</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">f3a65f2901a9</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">f3a65f2901a9</span>
 <span class="p">---&gt;</span> <span class="n">cc12b9a6286e</span>
<span class="n">Step</span> <span class="n">15</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">PATH</span><span class="p">=</span><span class="nv">$PATH</span><span class="p">:/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/.</span><span class="n">local</span><span class="p">/</span><span class="n">bin</span><span class="p">:/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="n">python</span><span class="p">/</span><span class="n">bin</span><span class="p">/</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">3e11289adbb2</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">3e11289adbb2</span>
 <span class="p">---&gt;</span> <span class="n">54ad4e19a031</span>
<span class="n">Step</span> <span class="n">16</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">PYTHONPATH</span><span class="p">=</span><span class="nv">$PYTHONPATH</span><span class="p">:/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="n">python</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">dbdeae97cf27</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">dbdeae97cf27</span>
 <span class="p">---&gt;</span> <span class="n">666a540d411c</span>
<span class="n">Step</span> <span class="n">17</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">-r</span> <span class="n">requirements</span><span class="p">.</span><span class="n">txt</span> <span class="p">-</span><span class="n">-target</span><span class="p">=/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="n">python</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">a0e7f7380801</span>
<span class="n">DEPRECATION</span><span class="p">:</span> <span class="n">Python</span> <span class="n">2</span><span class="p">.</span><span class="n">7</span> <span class="n">reached</span> <span class="n">the</span> <span class="k">end</span> <span class="n">of</span> <span class="n">its</span> <span class="n">life</span> <span class="n">on</span> <span class="n">January</span> <span class="n">1st</span><span class="p">,</span> <span class="n">2020</span><span class="p">.</span> <span class="n">Please</span> <span class="n">upgrade</span> <span class="n">your</span> <span class="n">Python</span> <span class="n">as</span> <span class="n">Python</span> <span class="n">2</span><span class="p">.</span><span class="n">7</span> <span class="n">is</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">maintained</span><span class="p">.</span> <span class="n">A</span> <span class="n">future</span> <span class="n">version</span> <span class="n">of</span> <span class="n">pip</span> <span class="n">will</span> <span class="n">drop</span> <span class="n">support</span> <span class="k">for</span> <span class="n">Python</span> <span class="n">2</span><span class="p">.</span><span class="n">7</span><span class="p">.</span> <span class="n">More</span> <span class="n">details</span> <span class="n">about</span> <span class="n">Python</span> <span class="n">2</span> <span class="n">support</span> <span class="k">in</span> <span class="n">pip</span><span class="p">,</span> <span class="n">can</span> <span class="n">be</span> <span class="n">found</span> <span class="n">at</span> <span class="n">https</span><span class="p">://</span><span class="n">pip</span><span class="p">.</span><span class="n">pypa</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">en</span><span class="p">/</span><span class="n">latest</span><span class="p">/</span><span class="n">development</span><span class="p">/</span><span class="n">release-process</span><span class="p">/</span><span class="c">#python-2-support</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">You</span> <span class="n">are</span> <span class="n">using</span> <span class="n">pip</span> <span class="n">version</span> <span class="n">20</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">2</span><span class="p">;</span> <span class="n">however</span><span class="p">,</span> <span class="n">version</span> <span class="n">20</span><span class="p">.</span><span class="n">3</span><span class="p">.</span><span class="n">4</span> <span class="n">is</span> <span class="n">available</span><span class="p">.</span>
<span class="n">You</span> <span class="n">should</span> <span class="n">consider</span> <span class="n">upgrading</span> <span class="n">via</span> <span class="n">the</span> <span class="s1">&#39;/usr/local/bin/python -m pip install --upgrade pip&#39;</span> <span class="n">command</span><span class="p">.</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">a0e7f7380801</span>
 <span class="p">---&gt;</span> <span class="n">8f7a6ad3a148</span>
<span class="n">Step</span> <span class="n">18</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">mkdir</span> <span class="n">-p</span> <span class="k">function</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">5bb68121e113</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">5bb68121e113</span>
 <span class="p">---&gt;</span> <span class="n">fa0cff1f7478</span>
<span class="n">Step</span> <span class="n">19</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">touch</span> <span class="p">./</span><span class="k">function</span><span class="p">/</span><span class="n">__init__</span><span class="p">.</span><span class="n">py</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">7da2f055434a</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">7da2f055434a</span>
 <span class="p">---&gt;</span> <span class="n">fee8adecc37d</span>
<span class="n">Step</span> <span class="n">20</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">WORKDIR</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="k">function</span><span class="p">/</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">55c057bd93d4</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">55c057bd93d4</span>
 <span class="p">---&gt;</span> <span class="n">a608325243c0</span>
<span class="n">Step</span> <span class="n">21</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="k">function</span><span class="p">/</span><span class="n">requirements</span><span class="p">.</span><span class="n">txt</span>     <span class="p">.</span>
 <span class="p">---&gt;</span> <span class="n">34f27e58e110</span>
<span class="n">Step</span> <span class="n">22</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">-r</span> <span class="n">requirements</span><span class="p">.</span><span class="n">txt</span> <span class="p">-</span><span class="n">-target</span><span class="p">=/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="n">python</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">676540bb1990</span>
<span class="n">DEPRECATION</span><span class="p">:</span> <span class="n">Python</span> <span class="n">2</span><span class="p">.</span><span class="n">7</span> <span class="n">reached</span> <span class="n">the</span> <span class="k">end</span> <span class="n">of</span> <span class="n">its</span> <span class="n">life</span> <span class="n">on</span> <span class="n">January</span> <span class="n">1st</span><span class="p">,</span> <span class="n">2020</span><span class="p">.</span> <span class="n">Please</span> <span class="n">upgrade</span> <span class="n">your</span> <span class="n">Python</span> <span class="n">as</span> <span class="n">Python</span> <span class="n">2</span><span class="p">.</span><span class="n">7</span> <span class="n">is</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">maintained</span><span class="p">.</span> <span class="n">A</span> <span class="n">future</span> <span class="n">version</span> <span class="n">of</span> <span class="n">pip</span> <span class="n">will</span> <span class="n">drop</span> <span class="n">support</span> <span class="k">for</span> <span class="n">Python</span> <span class="n">2</span><span class="p">.</span><span class="n">7</span><span class="p">.</span> <span class="n">More</span> <span class="n">details</span> <span class="n">about</span> <span class="n">Python</span> <span class="n">2</span> <span class="n">support</span> <span class="k">in</span> <span class="n">pip</span><span class="p">,</span> <span class="n">can</span> <span class="n">be</span> <span class="n">found</span> <span class="n">at</span> <span class="n">https</span><span class="p">://</span><span class="n">pip</span><span class="p">.</span><span class="n">pypa</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">en</span><span class="p">/</span><span class="n">latest</span><span class="p">/</span><span class="n">development</span><span class="p">/</span><span class="n">release-process</span><span class="p">/</span><span class="c">#python-2-support</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">You</span> <span class="n">are</span> <span class="n">using</span> <span class="n">pip</span> <span class="n">version</span> <span class="n">20</span><span class="p">.</span><span class="n">0</span><span class="p">.</span><span class="n">2</span><span class="p">;</span> <span class="n">however</span><span class="p">,</span> <span class="n">version</span> <span class="n">20</span><span class="p">.</span><span class="n">3</span><span class="p">.</span><span class="n">4</span> <span class="n">is</span> <span class="n">available</span><span class="p">.</span>
<span class="n">You</span> <span class="n">should</span> <span class="n">consider</span> <span class="n">upgrading</span> <span class="n">via</span> <span class="n">the</span> <span class="s1">&#39;/usr/local/bin/python -m pip install --upgrade pip&#39;</span> <span class="n">command</span><span class="p">.</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">676540bb1990</span>
 <span class="p">---&gt;</span> <span class="n">4d7d1bbe8e3a</span>
<span class="n">Step</span> <span class="n">23</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">WORKDIR</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">16e2280c32cb</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">16e2280c32cb</span>
 <span class="p">---&gt;</span> <span class="n">d23c17c42492</span>
<span class="n">Step</span> <span class="n">24</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">USER</span> <span class="n">root</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">d1862e78e61b</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">d1862e78e61b</span>
 <span class="p">---&gt;</span> <span class="n">ebc5ad55b29f</span>
<span class="n">Step</span> <span class="n">25</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="nb">COPY </span><span class="k">function</span>           <span class="k">function</span>
 <span class="p">---&gt;</span> <span class="n">e88be2f10c60</span>
<span class="n">Step</span> <span class="n">26</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">RUN</span> <span class="n">chown</span> <span class="n">-R</span> <span class="n">app</span><span class="p">:</span><span class="n">app</span> <span class="p">./</span> <span class="p">&amp;&amp;</span>   <span class="n">chmod</span> <span class="n">-R</span> <span class="n">777</span> <span class="p">/</span><span class="n">home</span><span class="p">/</span><span class="n">app</span><span class="p">/</span><span class="n">python</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">234f8fa7cf73</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">234f8fa7cf73</span>
 <span class="p">---&gt;</span> <span class="n">56489e89ba3f</span>
<span class="n">Step</span> <span class="n">27</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">USER</span> <span class="n">app</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">5ac2c43773bf</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">5ac2c43773bf</span>
 <span class="p">---&gt;</span> <span class="n">b1250cb46911</span>
<span class="n">Step</span> <span class="n">28</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">ENV</span> <span class="n">fprocess</span><span class="p">=</span><span class="s2">&quot;python index.py&quot;</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">17abf9c8a7fb</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">17abf9c8a7fb</span>
 <span class="p">---&gt;</span> <span class="n">b6046bf381f4</span>
<span class="n">Step</span> <span class="n">29</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">EXPOSE</span> <span class="n">8080</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">1a04f0d42be5</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">1a04f0d42be5</span>
 <span class="p">---&gt;</span> <span class="n">fee47369368e</span>
<span class="n">Step</span> <span class="n">30</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">HEALTHCHECK</span> <span class="p">-</span><span class="n">-interval</span><span class="p">=</span><span class="n">3s</span> <span class="n">CMD</span> <span class="p">[</span> <span class="n">-e</span> <span class="p">/</span><span class="n">tmp</span><span class="p">/.</span><span class="n">lock</span> <span class="p">]</span> <span class="p">||</span> <span class="n">exit</span> <span class="n">1</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">50ea1f87b1e9</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">50ea1f87b1e9</span>
 <span class="p">---&gt;</span> <span class="n">13b59f25fbc1</span>
<span class="n">Step</span> <span class="n">31</span><span class="p">/</span><span class="n">31</span> <span class="p">:</span> <span class="n">CMD</span> <span class="p">[</span><span class="s2">&quot;fwatchdog&quot;</span><span class="p">]</span>
 <span class="p">---&gt;</span> <span class="n">Running</span> <span class="k">in</span> <span class="n">27403d3a56b2</span>
<span class="n">Removing</span> <span class="n">intermediate</span> <span class="n">container</span> <span class="n">27403d3a56b2</span>
 <span class="p">---&gt;</span> <span class="n">568fbf0171e5</span>
<span class="n">Successfully</span> <span class="n">built</span> <span class="n">568fbf0171e5</span>
<span class="n">Successfully</span> <span class="n">tagged</span> <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">python-demo</span><span class="p">:</span><span class="n">latest</span>
<span class="n">Image</span><span class="p">:</span> <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">python-demo</span><span class="p">:</span><span class="n">latest</span> <span class="n">built</span><span class="p">.</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="p">&lt;</span> <span class="n">Building</span> <span class="n">python-demo</span> <span class="n">done</span> <span class="k">in</span> <span class="n">154</span><span class="p">.</span><span class="n">40s</span><span class="p">.</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="n">Worker</span> <span class="n">done</span><span class="p">.</span>

<span class="n">Total</span> <span class="n">build</span> <span class="n">time</span><span class="p">:</span> <span class="n">154</span><span class="p">.</span><span class="n">40s</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># docker images</span>
<span class="n">REPOSITORY</span>                                <span class="n">TAG</span>               <span class="n">IMAGE</span> <span class="n">ID</span>       <span class="n">CREATED</span>          <span class="n">SIZE</span>
<span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">python-demo</span>        <span class="n">latest</span>            <span class="n">568fbf0171e5</span>   <span class="n">54</span> <span class="n">seconds</span> <span class="n">ago</span>   <span class="n">87</span><span class="p">.</span><span class="n">3MB</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli push -f python-demo.yml</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="p">&gt;</span> <span class="n">Pushing</span> <span class="n">python-demo</span> <span class="p">[</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">python-demo</span><span class="p">:</span><span class="n">latest</span><span class="p">]</span>
<span class="n">The</span> <span class="n">push</span> <span class="n">refers</span> <span class="n">to</span> <span class="n">repository</span> <span class="p">[</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">python-demo</span><span class="p">]</span>
<span class="n">4e80d6112849</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">fb6d78c26a34</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">820eb676a69e</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">d587ee49c6a4</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">8a8abd3ceddc</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">d82f40d56cc4</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">6c8a6f5c151c</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">ff049ec38e28</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">a3a372e107c7</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">140e08eabde8</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">4d263f56c46d</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">cf79dfe6afa5</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">1b5baba80737</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">879c0d8666e3</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">20a7b70bdf2f</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">3fc750b41be7</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">beee9f30bc1f</span><span class="p">:</span> <span class="n">Pushed</span>
<span class="n">latest</span><span class="p">:</span> <span class="n">digest</span><span class="p">:</span> <span class="n">sha256</span><span class="p">:</span><span class="n">cbcb9b1bbae25f13f335eabd08657fc40beb9039d26d1a07f129fa61c68ebca5</span> <span class="n">size</span><span class="p">:</span> <span class="n">4074</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="p">&lt;</span> <span class="n">Pushing</span> <span class="n">python-demo</span> <span class="p">[</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">163</span><span class="p">/</span><span class="n">library</span><span class="p">/</span><span class="n">python-demo</span><span class="p">:</span><span class="n">latest</span><span class="p">]</span> <span class="n">done</span><span class="p">.</span>
<span class="p">[</span><span class="n">0</span><span class="p">]</span> <span class="n">Worker</span> <span class="n">done</span><span class="p">.</span>
</code></pre></div>
<p><img alt="image-20221124184045647" src="../../../img/kubernetes/kubernetes_openfass/image-20221124184045647.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli deploy -f python-demo.yml</span>
<span class="n">Deploying</span><span class="p">:</span> <span class="n">python-demo</span><span class="p">.</span>
<span class="n">WARNING</span><span class="p">!</span> <span class="n">You</span> <span class="n">are</span> <span class="n">not</span> <span class="n">using</span> <span class="n">an</span> <span class="n">encrypted</span> <span class="n">connection</span> <span class="n">to</span> <span class="n">the</span> <span class="n">gateway</span><span class="p">,</span> <span class="n">consider</span> <span class="n">using</span> <span class="n">HTTPS</span><span class="p">.</span>

<span class="n">Deployed</span><span class="p">.</span> <span class="n">202</span> <span class="n">Accepted</span><span class="p">.</span>
<span class="n">URL</span><span class="p">:</span> <span class="n">http</span><span class="p">://</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span><span class="p">:</span><span class="n">31112</span><span class="p">/</span><span class="k">function</span><span class="p">/</span><span class="n">python-demo</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli list</span>
<span class="k">Function</span>                        <span class="n">Invocations</span>     <span class="n">Replicas</span>
<span class="n">python-demo</span>                     <span class="n">0</span>               <span class="n">1</span>
</code></pre></div>
<p><img alt="image-20221124184414872" src="../../../img/kubernetes/kubernetes_openfass/image-20221124184414872.png" /></p>
<p><img alt="image-20221124184515057" src="../../../img/kubernetes/kubernetes_openfass/image-20221124184515057.png" /></p>
<h1 id="openfaas_3">八、OpenFaaS自动扩缩容<a class="headerlink" href="#openfaas_3" title="Permanent link">&para;</a></h1>
<h2 id="81">8.1 自动扩缩容测试<a class="headerlink" href="#81" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Auto-scaling</p>
<p>部署成功的Function是具有扩缩容能力的,可以使用 ab命令压测</p>
</blockquote>
<p><img alt="img" src="../../../img/kubernetes/kubernetes_openfass/15383821-248bb7249f586186.png" /></p>
<ul>
<li>压测之前，先观察pod的情况</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c"># kubectl get pods -n openfaas-fn</span>
<span class="n">NAME</span>                           <span class="n">READY</span>   <span class="n">STATUS</span>    <span class="n">RESTARTS</span>   <span class="n">AGE</span>
<span class="n">python-demo</span><span class="p">-</span><span class="n">67564cf477-xh8nw</span>   <span class="n">1</span><span class="p">/</span><span class="n">1</span>     <span class="n">Running</span>   <span class="n">0</span>          <span class="n">4h22m</span>
</code></pre></div>
<ul>
<li>执行压测命令</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="c"># yum -y install httpd-tools</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c"># ab -c 10 -n 10000 -k http://192.168.10.160:31112/function/python-demo</span>
<span class="n">This</span> <span class="n">is</span> <span class="n">ApacheBench</span><span class="p">,</span> <span class="n">Version</span> <span class="n">2</span><span class="p">.</span><span class="n">3</span> <span class="p">&lt;</span><span class="nv">$Revision</span><span class="p">:</span> <span class="n">1430300</span> <span class="p">$&gt;</span>
<span class="n">Copyright</span> <span class="n">1996</span> <span class="n">Adam</span> <span class="n">Twiss</span><span class="p">,</span> <span class="n">Zeus</span> <span class="n">Technology</span> <span class="n">Ltd</span><span class="p">,</span> <span class="n">http</span><span class="p">://</span><span class="n">www</span><span class="p">.</span><span class="n">zeustech</span><span class="p">.</span><span class="n">net</span><span class="p">/</span>
<span class="n">Licensed</span> <span class="n">to</span> <span class="n">The</span> <span class="n">Apache</span> <span class="n">Software</span> <span class="n">Foundation</span><span class="p">,</span> <span class="n">http</span><span class="p">://</span><span class="n">www</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">org</span><span class="p">/</span>

<span class="n">Benchmarking</span> <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span> <span class="p">(</span><span class="n">be</span> <span class="n">patient</span><span class="p">)</span>
<span class="n">Completed</span> <span class="n">1000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">2000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">3000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">4000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">5000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">6000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">7000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">8000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">9000</span> <span class="n">requests</span>
<span class="n">Completed</span> <span class="n">10000</span> <span class="n">requests</span>
<span class="n">Finished</span> <span class="n">10000</span> <span class="n">requests</span>


<span class="n">Server</span> <span class="n">Software</span><span class="p">:</span>
<span class="n">Server</span> <span class="n">Hostname</span><span class="p">:</span>        <span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span>
<span class="n">Server</span> <span class="n">Port</span><span class="p">:</span>            <span class="n">31112</span>

<span class="n">Document</span> <span class="n">Path</span><span class="p">:</span>          <span class="p">/</span><span class="k">function</span><span class="p">/</span><span class="n">python-demo</span>
<span class="n">Document</span> <span class="n">Length</span><span class="p">:</span>        <span class="n">16</span> <span class="n">bytes</span>

<span class="n">Concurrency</span> <span class="n">Level</span><span class="p">:</span>      <span class="n">10</span>
<span class="n">Time</span> <span class="n">taken</span> <span class="k">for</span> <span class="n">tests</span><span class="p">:</span>   <span class="n">89</span><span class="p">.</span><span class="n">722</span> <span class="n">seconds</span>
<span class="n">Complete</span> <span class="n">requests</span><span class="p">:</span>      <span class="n">10000</span>
<span class="n">Failed</span> <span class="n">requests</span><span class="p">:</span>        <span class="n">0</span>
<span class="nb">Write </span><span class="n">errors</span><span class="p">:</span>           <span class="n">0</span>
<span class="n">Keep-Alive</span> <span class="n">requests</span><span class="p">:</span>    <span class="n">10000</span>
<span class="n">Total</span> <span class="n">transferred</span><span class="p">:</span>      <span class="n">2710000</span> <span class="n">bytes</span>
<span class="n">HTML</span> <span class="n">transferred</span><span class="p">:</span>       <span class="n">160000</span> <span class="n">bytes</span>
<span class="n">Requests</span> <span class="n">per</span> <span class="n">second</span><span class="p">:</span>    <span class="n">111</span><span class="p">.</span><span class="n">46</span> <span class="p">[</span><span class="c">#/sec] (mean)</span>
<span class="n">Time</span> <span class="n">per</span> <span class="n">request</span><span class="p">:</span>       <span class="n">89</span><span class="p">.</span><span class="n">722</span> <span class="no">[ms]</span> <span class="p">(</span><span class="n">mean</span><span class="p">)</span>
<span class="n">Time</span> <span class="n">per</span> <span class="n">request</span><span class="p">:</span>       <span class="n">8</span><span class="p">.</span><span class="n">972</span> <span class="no">[ms]</span> <span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">across</span> <span class="n">all</span> <span class="n">concurrent</span> <span class="n">requests</span><span class="p">)</span>
<span class="n">Transfer</span> <span class="n">rate</span><span class="p">:</span>          <span class="n">29</span><span class="p">.</span><span class="n">50</span> <span class="p">[</span><span class="n">Kbytes</span><span class="p">/</span><span class="n">sec</span><span class="p">]</span> <span class="n">received</span>

<span class="n">Connection</span> <span class="n">Times</span> <span class="p">(</span><span class="n">ms</span><span class="p">)</span>
              <span class="n">min</span>  <span class="n">mean</span><span class="p">[+/</span><span class="n">-sd</span><span class="p">]</span> <span class="n">median</span>   <span class="n">max</span>
<span class="n">Connect</span><span class="p">:</span>        <span class="n">0</span>    <span class="n">0</span>   <span class="n">0</span><span class="p">.</span><span class="n">0</span>      <span class="n">0</span>       <span class="n">2</span>
<span class="n">Processing</span><span class="p">:</span>    <span class="n">33</span>   <span class="n">90</span>  <span class="n">31</span><span class="p">.</span><span class="n">7</span>     <span class="n">88</span>     <span class="n">502</span>
<span class="n">Waiting</span><span class="p">:</span>       <span class="n">32</span>   <span class="n">90</span>  <span class="n">31</span><span class="p">.</span><span class="n">7</span>     <span class="n">87</span>     <span class="n">502</span>
<span class="n">Total</span><span class="p">:</span>         <span class="n">34</span>   <span class="n">90</span>  <span class="n">31</span><span class="p">.</span><span class="n">7</span>     <span class="n">88</span>     <span class="n">502</span>

<span class="n">Percentage</span> <span class="n">of</span> <span class="n">the</span> <span class="n">requests</span> <span class="n">served</span> <span class="n">within</span> <span class="n">a</span> <span class="n">certain</span> <span class="n">time</span> <span class="p">(</span><span class="n">ms</span><span class="p">)</span>
  <span class="n">50</span><span class="p">%</span>     <span class="n">88</span>
  <span class="n">66</span><span class="p">%</span>     <span class="n">98</span>
  <span class="n">75</span><span class="p">%</span>    <span class="n">105</span>
  <span class="n">80</span><span class="p">%</span>    <span class="n">110</span>
  <span class="n">90</span><span class="p">%</span>    <span class="n">128</span>
  <span class="n">95</span><span class="p">%</span>    <span class="n">146</span>
  <span class="n">98</span><span class="p">%</span>    <span class="n">170</span>
  <span class="n">99</span><span class="p">%</span>    <span class="n">188</span>
 <span class="n">100</span><span class="p">%</span>    <span class="n">502</span> <span class="p">(</span><span class="n">longest</span> <span class="n">request</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>观察压测过程中pod变化</li>
</ul>
<blockquote>
<p>再打开一个终端</p>
</blockquote>
<p><img alt="image-20221124231043648" src="../../../img/kubernetes/kubernetes_openfass/image-20221124231043648.png" /></p>
<ul>
<li>压测完成后pod变化</li>
</ul>
<p><img alt="image-20221124231203352" src="../../../img/kubernetes/kubernetes_openfass/image-20221124231203352.png" /></p>
<h2 id="82_auto-scaling">8.2 自定义参数使用Auto-Scaling实现自动扩缩容<a class="headerlink" href="#82_auto-scaling" title="Permanent link">&para;</a></h2>
<blockquote>
<p>Function的扩缩容由Label来设置。</p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="p">$</span> <span class="n">faas-cli</span> <span class="n">deploy</span> <span class="o">-f</span> <span class="n">helloworld</span><span class="p">.</span><span class="n">yml</span> <span class="p">\</span>
<span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">max</span><span class="p">=</span><span class="n">10</span> <span class="p">\</span>
<span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">target</span><span class="p">=</span><span class="n">5</span> <span class="p">\</span>
<span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">type</span><span class="p">=</span><span class="n">capacity</span> <span class="p">\</span>
<span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">target-proportion</span><span class="p">=</span><span class="n">1</span><span class="p">.</span><span class="n">0</span> <span class="p">\</span>
<span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">zero</span><span class="p">=</span><span class="n">true</span> <span class="p">\</span>
<span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">zero-duration</span><span class="p">=</span><span class="n">5m</span>
</code></pre></div>
<p>标签说明文档如下：</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>含义</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>com.openfaas.scale.max</td>
<td>最多扩容到几个replicaset</td>
<td>20</td>
</tr>
<tr>
<td>com.openfaas.scale.min</td>
<td>最小缩容到几个replicaset</td>
<td>1</td>
</tr>
<tr>
<td>com.openfaas.scale.zero</td>
<td>是否允许缩容到0个，即关闭所有的replicaset</td>
<td>false</td>
</tr>
<tr>
<td>com.openfaas.scale.zero-duration</td>
<td>空闲多久之后，缩容为0</td>
<td>15m</td>
</tr>
<tr>
<td>com.openfaas.scale.target</td>
<td>当每个replicaset的压力达到多少时进行扩容</td>
<td>50</td>
</tr>
<tr>
<td>com.openfaas.scale.target-proportion</td>
<td>扩容时的缩放系数，用来避免爆炸式扩容或扩容不足的发生。为一个浮点数</td>
<td>0.90</td>
</tr>
<tr>
<td>com.openfaas.scale.type</td>
<td>扩缩容的模式，可选择rps、capacity、cpu</td>
<td>rps</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="c"># faas-cli deploy -f helloworld.yml \</span>
<span class="p">&gt;</span> <span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">max</span><span class="p">=</span><span class="n">10</span> <span class="p">\</span>
<span class="p">&gt;</span> <span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">target</span><span class="p">=</span><span class="n">5</span> <span class="p">\</span>
<span class="p">&gt;</span> <span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">type</span><span class="p">=</span><span class="n">capacity</span> <span class="p">\</span>
<span class="p">&gt;</span> <span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">target-proportion</span><span class="p">=</span><span class="n">1</span><span class="p">.</span><span class="n">0</span> <span class="p">\</span>
<span class="p">&gt;</span> <span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">zero</span><span class="p">=</span><span class="n">true</span> <span class="p">\</span>
<span class="p">&gt;</span> <span class="p">-</span><span class="n">-label</span> <span class="n">com</span><span class="p">.</span><span class="n">openfaas</span><span class="p">.</span><span class="n">scale</span><span class="p">.</span><span class="n">zero-duration</span><span class="p">=</span><span class="n">5m</span>
<span class="n">Deploying</span><span class="p">:</span> <span class="n">helloworld</span><span class="p">.</span>
<span class="n">WARNING</span><span class="p">!</span> <span class="n">You</span> <span class="n">are</span> <span class="n">not</span> <span class="n">using</span> <span class="n">an</span> <span class="n">encrypted</span> <span class="n">connection</span> <span class="n">to</span> <span class="n">the</span> <span class="n">gateway</span><span class="p">,</span> <span class="n">consider</span> <span class="n">using</span> <span class="n">HTTPS</span><span class="p">.</span>

<span class="n">Deployed</span><span class="p">.</span> <span class="n">202</span> <span class="n">Accepted</span><span class="p">.</span>
<span class="n">URL</span><span class="p">:</span> <span class="n">http</span><span class="p">://</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span><span class="p">:</span><span class="n">31112</span><span class="p">/</span><span class="k">function</span><span class="p">/</span><span class="n">helloworld</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">ab</span> <span class="n">-c</span> <span class="n">10</span> <span class="n">-n</span> <span class="n">10000</span> <span class="n">-k</span> <span class="n">http</span><span class="p">://</span><span class="n">192</span><span class="p">.</span><span class="n">168</span><span class="p">.</span><span class="n">10</span><span class="p">.</span><span class="n">160</span><span class="p">:</span><span class="n">31112</span><span class="p">/</span><span class="k">function</span><span class="p">/</span><span class="n">helloworld</span>
</code></pre></div>
<p><img alt="image-20221124235014191" src="../../../img/kubernetes/kubernetes_openfass/image-20221124235014191.png" /></p>
<blockquote>
<p>扩缩容计算公式：</p>
<p>扩缩容Replicaset个数 = 当前的replicaset个数 * (当前的压力 / ( (<code>com.openfaas.scale.target</code> * 当前的replicaset个数 ) * <code>com.openfaas.scale.target-proportion</code> ) )</p>
</blockquote>
<p><code>当前的压力</code>: 当扩缩容的模式为<code>capacity</code>时，可以理解为排队请求的个数，或者正在等待响应的请求个数。</p>
<p><strong>扩缩容模式</strong></p>
<p>一个关键的参数<code>com.openfaas.scale.type</code>的三种类型也需要精心选择。</p>
<ul>
<li>rps
   每秒钟完成的请求个数（Requests Per Second），适用于快速响应的函数类型</li>
<li>capacity
   排队的请求个数，或者正在等待响应的请求个数，适用于响应较慢的函数，调用量不大但是容易发生堵塞的调用。</li>
<li>cpu
   根据CPU的负载进行扩缩容，适用于CPU消耗很高的函数，比如AI计算函数。</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      BurningMyself<a href='https://beian.miit.gov.cn/' target='_blank'>  蜀ICP备15033200号-1</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/burningmyself" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://gitee.com/burningmyself" target="_blank" rel="noopener" title="gitee.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 488 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../../../js/extra.js"></script>
      
        <script src="../../../js/baidu-tongji.js"></script>
      
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-155084439-1"></script>
      
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-155132293-1"></script>
      
        <script src="../../../js/google.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>