<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="æœ½æœ¨è‡ªé›•">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>js å·¥å…·å‡½æ•° - BurningMyself</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "js \u5de5\u5177\u51fd\u6570";
    var mkdocs_page_input_path = "web\\js_tool_method.md";
    var mkdocs_page_url = "/web/js_tool_method/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> BurningMyself</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">ä»‹ç»</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">æŠ€æœ¯åšæ–‡</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">.NET</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../net/c_sharp/">C# 6</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../net/c_docker/">.Ner Core Docker éƒ¨ç½²</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../net/c_mysql_nginx/">ä½¿ç”¨ Docker å®¹å™¨åŒ–éƒ¨ç½² ASP.NET Core + MySQL + Nginx</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../net/c_core_safety/">è®©ä½ çš„ASP.NET Coreåº”ç”¨ç¨‹åºæ›´å®‰å…¨</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../net/c_core_study_route/">ASP.NET Coreå¼€å‘è€…æŒ‡å—</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Java</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../java/feature/">Javaç‰¹æ€§</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../java/load-class/">Javaç±»åŠ è½½</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../java/orm/">Ormçš„ä¼˜ç¼ºç‚¹</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../java/bio-nio/">BIOä¸NIO</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../java/rocketmq/rmq-1/">RocketMqä¸‹è½½ä¸å®‰è£…</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../java/springAnnotation/">Springå¸¸ç”¨æ³¨è§£</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Python</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../python/feature/">Pythonç‰¹æ€§</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../python/str_joint/">Pythonå­—ç¬¦æ‹¼æ¥</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../python/syntax_rule/">Pythonè¯­æ³•æŠ€å·§</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../python/fabric/">è¿œç¨‹éƒ¨ç½²ç¥å™¨ Fabric</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">PHP</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../php/kj/">æ¡†æ¶</a>
                </li>
    </ul>
                </li>
                <li class=" current">
                    
    <span class="caption-text">Web</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../es6/">es6è¯­æ³•</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../ali_js_style/">é˜¿é‡Œjsæ ·å¼è§„èŒƒ</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../node.js/">node.jsæ–‡æ¡£</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../react/">React å¼€å‘è€…æŒ‡å—</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../dart/syntax/">Dartè¯­æ³•å­¦ä¹ </a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../react_interview/">React é¢è¯•</a>
                </li>
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">js å·¥å…·å‡½æ•°</a>
    <ul class="subnav">
            
    <li class="toctree-l4"><a href="#javascript">JavaScript å·¥å…·å‡½æ•°å¤§å…¨</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#_1">æ•°ç»„</a></li>
        
            <li><a class="toctree-l5" href="#_2">å‡½æ•°</a></li>
        
            <li><a class="toctree-l5" href="#_3">å­—ç¬¦ä¸²</a></li>
        
            <li><a class="toctree-l5" href="#_4">å¯¹è±¡</a></li>
        
            <li><a class="toctree-l5" href="#_5">æ•°å­—</a></li>
        
            <li><a class="toctree-l5" href="#_6">æµè§ˆå™¨æ“ä½œåŠå…¶å®ƒ</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../vue_cp_react/">vueä¸reactæ¯”è¾ƒ</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">SQL</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/mysql_yh/">MySQLä¼˜åŒ–</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/mysql_yh17/">MySQLä¼˜åŒ–</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/mysql_log/">MySQLæ—¥å¿—</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/mysql_index/">MySQLç´¢å¼•</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/mysql_pxc/">MySQL PXCé›†ç¾¤</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/mysql_use/">MySQL æ•°æ®åº“åº”ç”¨</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/sql_server_master/">Sql Server ä¸»ä»å¤‡ä»½</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/data_split/">æ•°æ®åº“ä¹‹äº’è”ç½‘å¸¸ç”¨åˆ†åº“åˆ†è¡¨æ–¹æ¡ˆ</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../sql/mybatis/">Mybatisä½¿ç”¨å¿ƒå¾·</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Linux</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../linux/often/">å¸¸ç”¨å‘½ä»¤</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../linux/ope/">å®ç”¨çš„Linux å‘½ä»¤</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Docker</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../docker/docker/">Dockerå…¨ç§‘</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../docker/docker-compose/">dockerå’Œdocker-compose é…ç½® mysql mongodb redis nginx jenkins ç¯å¢ƒ</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../docker/docker-jenkins/">Dockeréƒ¨ç½²Jenkins</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Tool</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/git/">Git</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/gitquestion/">Gité—®é¢˜å¤„ç†</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/gitflow/">GitFlow</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/gitbook/">GitBook</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/gitcmr/">Gitæäº¤æ—¥å¿—è§„èŒƒ</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/markdown/">Markdown</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/cicd/">CI/CD</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/mkdocs/">mkdocsç®€å•ä½¿ç”¨</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tool/gitstudy/">Gitçš„é»‘é­”æ³•</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">å¾®æœåŠ¡</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../micro/spring-cloud/">åŸºäºSpringCloudçš„å¾®æœåŠ¡æ¶æ„æ¼”å˜å²</a>
                </li>
                <li class="">
                    
    <a class="" href="../../micro/fbs-lock/">åˆ†å¸ƒå¼é”</a>
                </li>
                <li class="">
                    
    <a class="" href="../../micro/design/">å¾®æœåŠ¡è®¾è®¡</a>
                </li>
                <li class="">
                    
    <a class="" href="../../micro/distrimsg/">åˆ†å¸ƒå¼ç³»ç»Ÿä¸æ¶ˆæ¯çš„æŠ•é€’</a>
                </li>
                <li class="">
                    
    <a class="" href="../../micro/ddd/">åŸºäºDDDçš„å¾®æœåŠ¡è®¾è®¡å’Œå¼€å‘å®æˆ˜</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">ç»éªŒåˆ†æ</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../exp/devops/">DevOps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/micro-service/">Micro-Service</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/raft-gossip/">Raftç®—æ³•å’ŒGossipåè®®</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/cl/">é›†ç¾¤å’Œè´Ÿè½½å‡è¡¡</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/ai/">äººå·¥æ™ºèƒ½</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/code-principle/">ä»£ç åŸåˆ™</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/techbig/">å¦‚ä½•æˆä¸ºæŠ€æœ¯å¤§ç‰›</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/learnweetout/">ç¨‹åºå‘˜å¦‚ä½•æŠ€æœ¯æˆé•¿</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/pt/">äº§å“ä¸æŠ€æœ¯</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/four_deep_learning/">æ·±åº¦å­¦ä¹ æ¡†æ¶</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/tl/">åœ¨é˜¿é‡Œåšäº†5å¹´æŠ€æœ¯Leaderï¼Œæˆ‘æ€»ç»“å‡ºè¿™äº›å¥—è·¯ï¼</a>
                </li>
                <li class="">
                    
    <a class="" href="../../exp/cto/">CTO æŠ€èƒ½å›¾è°±</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">åŒ»å­¦</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../doctor/ae/">è„‘ç‚</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">æ„æ¶</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../framework/split/">æ„æ¶æ‹†åˆ†</a>
                </li>
                <li class="">
                    
    <a class="" href="../../framework/fgb/">åˆ†å¸ƒå¼ã€é«˜å¹¶å‘ã€å¤šçº¿ç¨‹</a>
                </li>
                <li class="">
                    
    <a class="" href="../../framework/agility/">å¦‚ä½•ç†è§£æ•æ·å¼€å‘</a>
                </li>
                <li class="">
                    
    <a class="" href="../../framework/fwork/">èµ°å‘æ¶æ„å¸ˆå¿…å¤‡çš„æŠ€èƒ½</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">æƒ…æ„Ÿ</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../emotion/eq/">æƒ…å•†</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/workheard/">å·¥ä½œå¿ƒå¾—</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/lookbook/">çœ‹ä¹¦</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/fmf/">4ç§ç”·æœ‹å‹</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/notheart/">ä¸ä¸Šå¿ƒ</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/selfdiscipline/">è‡ªå¾‹</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/notlike/">å–œæ¬¢ä¸ä¸å–œæ¬¢</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/latemarry/">æ™šå©š</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/understand/">è¿½å¥³ç”Ÿè¦æ˜ç™½è¿™äº›äº‹</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/backup/">å¤‡èƒ</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/chase/">ä¸ºä»€ä¹ˆè¿½ä¸åˆ°å¥¹</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/livefail/">ä¸ºä»€ä¹ˆæ´»ç€å¤±è´¥</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/emotion/">æƒ…ç»ªç®¡ç†</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/abolish/">åºŸæ‰çš„ä¸‰ä¸ªè¿¹è±¡</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/uptime/">ä½™ç”Ÿï¼Œå¥½å¥½çæƒœ</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/losecome/">æ‰€æœ‰çš„å¤±å»ï¼Œéƒ½ä¼šä»¥å¦ä¸€ç§æ–¹å¼å½’æ¥</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/threeheart/">äººç”Ÿæœ‰è¿™ä¸‰ç§å¥½å¿ƒæ€</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/onelike/">ä¸€ä¸ªæ„Ÿæƒ…çœŸç›¸</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/notruth/">æƒ…å•†ä¸é“ç†</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/smf/">å…­ç§ç”·äººè¿œç¦»</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/select/">å†³å®šæ¥ä¸‹æ¥äººç”Ÿå½’å±çš„ï¼Œä¸æ˜¯åŠªåŠ›ï¼Œè€Œæ˜¯é€‰æ‹©</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/nolike/">è¢«ä½ æ‹‰é»‘çš„é‚£ä¸ªäººï¼Œä½ ä¸€å®šå¾ˆå–œæ¬¢å§</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/onepath/">ä½™ç”Ÿï¼Œå­¦ä¼šä¸€ä¸ªäººèµ°ï¼Œä¸ç®¡æœ‰æ²¡æœ‰äººé™ª</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/twopath/">å¾€åä½™ç”Ÿè¿˜å¾ˆç²¾å½©ï¼Œåˆ«è¢«ç†¬å¤œæ‹–å®äº†</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/lifetime/">å¿ƒæ€å¥½çš„äººï¼Œä¸€è¾ˆå­éƒ½å¥½</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/hearttoheart/">å°†å¿ƒæ¯”å¿ƒï¼Œæ–¹å¾—äººå¿ƒ</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/ttt/">åˆ«ç¡å¤ªæ™šï¼Œåˆ«çˆ±å¤ªæ»¡ï¼Œåˆ«è¦å¤ªå¤š</a>
                </li>
                <li class="">
                    
    <a class="" href="../../emotion/profess/">è¡¨ç™½</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">BurningMyself</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Web &raquo;</li>
        
      
        
          <li>æŠ€æœ¯åšæ–‡ &raquo;</li>
        
      
    
    <li>js å·¥å…·å‡½æ•°</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/burningmyself/burningmyself.github.io/edit/master/docs/web/js_tool_method.md"> Edit on burningmyself/blog</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="javascript">JavaScript å·¥å…·å‡½æ•°å¤§å…¨<a class="headerlink" href="#javascript" title="Permanent link">&para;</a></h1>
<h2 id="_1">æ•°ç»„<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<ol>
<li>allï¼šå¸ƒå°”å…¨ç­‰åˆ¤æ–­</li>
</ol>
<pre class="codehilite"><code class="language-js">const all = (arr, fn = Boolean) =&gt; arr.every(fn);

all([4, 2, 3], x =&gt; x &gt; 1); // true
all([1, 2, 3]); // true</code></pre>


<ol>
<li>allEqualï¼šæ£€æŸ¥æ•°ç»„å„é¡¹ç›¸ç­‰</li>
</ol>
<pre class="codehilite"><code class="language-js">const allEqual = arr =&gt; arr.every(val =&gt; val === arr[0]);

allEqual([1, 2, 3, 4, 5, 6]); // false
allEqual([1, 1, 1, 1]); // true</code></pre>


<ol>
<li>approximatelyEqualï¼šçº¦ç­‰äº</li>
</ol>
<pre class="codehilite"><code class="language-js">const approximatelyEqual = (v1, v2, epsilon = 0.001) =&gt; Math.abs(v1 - v2) &lt; epsilon;

approximatelyEqual(Math.PI / 2.0, 1.5708); // true</code></pre>


<ol>
<li>arrayToCSVï¼šæ•°ç»„è½¬CSVæ ¼å¼ï¼ˆå¸¦ç©ºæ ¼çš„å­—ç¬¦ä¸²ï¼‰</li>
</ol>
<pre class="codehilite"><code class="language-js">const arrayToCSV = (arr, delimiter = ',') =&gt;
  arr.map(v =&gt; v.map(x =&gt; `&quot;${x}&quot;`).join(delimiter)).join('\n');

arrayToCSV([['a', 'b'], ['c', 'd']]); // '&quot;a&quot;,&quot;b&quot;\n&quot;c&quot;,&quot;d&quot;'
arrayToCSV([['a', 'b'], ['c', 'd']], ';'); // '&quot;a&quot;;&quot;b&quot;\n&quot;c&quot;;&quot;d&quot;'</code></pre>


<ol>
<li>arrayToHtmlListï¼šæ•°ç»„è½¬liåˆ—è¡¨</li>
</ol>
<pre class="codehilite"><code class="language-js">const arrayToHtmlList = (arr, listID) =&gt;
  (el =&gt; (
    (el = document.querySelector('#' + listID)),
    (el.innerHTML += arr.map(item =&gt; `&lt;li&gt;${item}&lt;/li&gt;`).join(''))
  ))();

arrayToHtmlList(['item 1', 'item 2'], 'myListID');</code></pre>


<ol>
<li>averageï¼šå¹³å‡æ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const average = (...nums) =&gt; nums.reduce((acc, val) =&gt; acc + val, 0) / nums.length;
average(...[1, 2, 3]); // 2
average(1, 2, 3); // 2</code></pre>


<ol>
<li>averageByï¼šæ•°ç»„å¯¹è±¡å±æ€§å¹³å‡æ•°</li>
</ol>
<p>æ­¤ä»£ç æ®µå°†è·å–æ•°ç»„å¯¹è±¡å±æ€§çš„å¹³å‡å€¼</p>
<pre class="codehilite"><code class="language-js">const averageBy = (arr, fn) =&gt;
  arr.map(typeof fn === 'function' ? fn : val =&gt; val[fn]).reduce((acc, val) =&gt; acc + val, 0) /
  arr.length;

averageBy([{ n: 4 }, { n: 2 }, { n: 8 }, { n: 6 }], o =&gt; o.n); // 5
averageBy([{ n: 4 }, { n: 2 }, { n: 8 }, { n: 6 }], 'n'); // 5</code></pre>


<ol>
<li>bifurcateï¼šæ‹†åˆ†æ–­è¨€åçš„æ•°ç»„</li>
</ol>
<p>å¯ä»¥æ ¹æ®æ¯ä¸ªå…ƒç´ è¿”å›çš„å€¼ï¼Œä½¿ç”¨reduce()å’Œpush() å°†å…ƒç´ æ·»åŠ åˆ°ç¬¬äºŒæ¬¡å‚æ•°fnä¸­ ã€‚</p>
<pre class="codehilite"><code class="language-js">const bifurcate = (arr, filter) =&gt;
  arr.reduce((acc, val, i) =&gt; (acc[filter[i] ? 0 : 1].push(val), acc), [[], []]);
bifurcate(['beep', 'boop', 'foo', 'bar'], [true, true, false, true]); 
// [ ['beep', 'boop', 'bar'], ['foo'] ]</code></pre>


<ol>
<li>castArrayï¼šå…¶å®ƒç±»å‹è½¬æ•°ç»„</li>
</ol>
<pre class="codehilite"><code class="language-js">const castArray = val =&gt; (Array.isArray(val) ? val : [val]);

castArray('foo'); // ['foo']
castArray([1]); // [1]
castArray(1); // [1]</code></pre>


<ol>
<li>compactï¼šå»é™¤æ•°ç»„ä¸­çš„æ— æ•ˆ/æ— ç”¨å€¼</li>
</ol>
<pre class="codehilite"><code class="language-js">const compact = arr =&gt; arr.filter(Boolean);

compact([0, 1, false, 2, '', 3, 'a', 'e' * 23, NaN, 's', 34]); 
// [ 1, 2, 3, 'a', 's', 34 ]</code></pre>


<ol>
<li>countOccurrencesï¼šæ£€æµ‹æ•°å€¼å‡ºç°æ¬¡æ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const countOccurrences = (arr, val) =&gt; arr.reduce((a, v) =&gt; (v === val ? a + 1 : a), 0);
countOccurrences([1, 1, 2, 1, 2, 3], 1); // 3</code></pre>


<ol>
<li>deepFlattenï¼šé€’å½’æ‰å¹³åŒ–æ•°ç»„</li>
</ol>
<pre class="codehilite"><code class="language-js">const deepFlatten = arr =&gt; [].concat(...arr.map(v =&gt; (Array.isArray(v) ? deepFlatten(v) : v)));

deepFlatten([1, [2], [[3], 4], 5]); // [1,2,3,4,5]</code></pre>


<ol>
<li>differenceï¼šå¯»æ‰¾å·®å¼‚ï¼ˆå¹¶è¿”å›ç¬¬ä¸€ä¸ªæ•°ç»„ç‹¬æœ‰çš„ï¼‰</li>
</ol>
<p>æ­¤ä»£ç æ®µæŸ¥æ‰¾ä¸¤ä¸ªæ•°ç»„ä¹‹é—´çš„å·®å¼‚ï¼Œå¹¶è¿”å›ç¬¬ä¸€ä¸ªæ•°ç»„ç‹¬æœ‰çš„ã€‚</p>
<pre class="codehilite"><code class="language-js">const difference = (a, b) =&gt; {
  const s = new Set(b);
  return a.filter(x =&gt; !s.has(x));
};

difference([1, 2, 3], [1, 2, 4]); // [3]</code></pre>


<ol>
<li>differenceByï¼šå…ˆæ‰§è¡Œå†å¯»æ‰¾å·®å¼‚</li>
</ol>
<p>åœ¨å°†ç»™å®šå‡½æ•°åº”ç”¨äºä¸¤ä¸ªåˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ä¹‹åï¼Œæ­¤æ–¹æ³•è¿”å›ä¸¤ä¸ªæ•°ç»„ä¹‹é—´çš„å·®å¼‚ã€‚</p>
<pre class="codehilite"><code class="language-js">const differenceBy = (a, b, fn) =&gt; {
  const s = new Set(b.map(fn));
  return a.filter(x =&gt; !s.has(fn(x)));
};

differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor); // [1.2]
differenceBy([{ x: 2 }, { x: 1 }], [{ x: 1 }], v =&gt; v.x); // [ { x: 2 } ]</code></pre>


<ol>
<li>dropWhileï¼šåˆ é™¤ä¸ç¬¦åˆæ¡ä»¶çš„å€¼</li>
</ol>
<p>æ­¤ä»£ç æ®µä»æ•°ç»„é¡¶éƒ¨å¼€å§‹åˆ é™¤å…ƒç´ ï¼Œç›´åˆ°ä¼ é€’çš„å‡½æ•°è¿”å›ä¸ºtrueã€‚</p>
<pre class="codehilite"><code class="language-js">const dropWhile = (arr, func) =&gt; {
  while (arr.length &gt; 0 &amp;&amp; !func(arr[0])) arr = arr.slice(1);
  return arr;
};

dropWhile([1, 2, 3, 4], n =&gt; n &gt;= 3); // [3,4]</code></pre>


<ol>
<li>flattenï¼šæŒ‡å®šæ·±åº¦æ‰å¹³åŒ–æ•°ç»„</li>
</ol>
<p>æ­¤ä»£ç æ®µç¬¬äºŒå‚æ•°å¯æŒ‡å®šæ·±åº¦ã€‚</p>
<pre class="codehilite"><code class="language-js">const flatten = (arr, depth = 1) =&gt;
  arr.reduce((a, v) =&gt; a.concat(depth &gt; 1 &amp;&amp; Array.isArray(v) ? flatten(v, depth - 1) : v), []);

flatten([1, [2], 3, 4]); // [1, 2, 3, 4]
flatten([1, [2, [3, [4, 5], 6], 7], 8], 2); // [1, 2, 3, [4, 5], 6, 7, 8]</code></pre>


<ol>
<li>indexOfAllï¼šè¿”å›æ•°ç»„ä¸­æŸå€¼çš„æ‰€æœ‰ç´¢å¼•</li>
</ol>
<p>æ­¤ä»£ç æ®µå¯ç”¨äºè·å–æ•°ç»„ä¸­æŸä¸ªå€¼çš„æ‰€æœ‰ç´¢å¼•ï¼Œå¦‚æœæ­¤å€¼ä¸­æœªåŒ…å«è¯¥å€¼ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚</p>
<pre class="codehilite"><code class="language-js">const indexOfAll = (arr, val) =&gt; arr.reduce((acc, el, i) =&gt; (el === val ? [...acc, i] : acc), []);

indexOfAll([1, 2, 3, 1, 2, 3], 1); // [0,3]
indexOfAll([1, 2, 3], 4); // []</code></pre>


<ol>
<li>intersectionï¼šä¸¤æ•°ç»„çš„äº¤é›†</li>
</ol>
<pre class="codehilite"><code class="language-js">const intersection = (a, b) =&gt; {
  const s = new Set(b);
  return a.filter(x =&gt; s.has(x));
};

intersection([1, 2, 3], [4, 3, 2]); // [2, 3]</code></pre>


<ol>
<li>intersectionWithï¼šä¸¤æ•°ç»„éƒ½ç¬¦åˆæ¡ä»¶çš„äº¤é›†</li>
</ol>
<p>æ­¤ç‰‡æ®µå¯ç”¨äºåœ¨å¯¹ä¸¤ä¸ªæ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œäº†å‡½æ•°ä¹‹åï¼Œè¿”å›ä¸¤ä¸ªæ•°ç»„ä¸­å­˜åœ¨çš„å…ƒç´ åˆ—è¡¨ã€‚</p>
<pre class="codehilite"><code class="language-js">const intersectionBy = (a, b, fn) =&gt; {
  const s = new Set(b.map(fn));
  return a.filter(x =&gt; s.has(fn(x)));
};

intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor); // [2.1]</code></pre>


<ol>
<li>intersectionWithï¼šå…ˆæ¯”è¾ƒåè¿”å›äº¤é›†</li>
</ol>
<pre class="codehilite"><code class="language-js">const intersectionWith = (a, b, comp) =&gt; a.filter(x =&gt; b.findIndex(y =&gt; comp(x, y)) !== -1);

intersectionWith([1, 1.2, 1.5, 3, 0], [1.9, 3, 0, 3.9], (a, b) =&gt; Math.round(a) === Math.round(b)); // [1.5, 3, 0]</code></pre>


<ol>
<li>minNï¼šè¿”å›æŒ‡å®šé•¿åº¦çš„å‡åºæ•°ç»„</li>
</ol>
<pre class="codehilite"><code class="language-js">const minN = (arr, n = 1) =&gt; [...arr].sort((a, b) =&gt; a - b).slice(0, n);

minN([1, 2, 3]); // [1]
minN([1, 2, 3], 2); // [1,2]</code></pre>


<ol>
<li>negateï¼šæ ¹æ®æ¡ä»¶åå‘ç­›é€‰</li>
</ol>
<pre class="codehilite"><code class="language-js">const negate = func =&gt; (...args) =&gt; !func(...args);

[1, 2, 3, 4, 5, 6].filter(negate(n =&gt; n % 2 === 0)); // [ 1, 3, 5 ]</code></pre>


<ol>
<li>randomIntArrayInRangeï¼šç”Ÿæˆä¸¤æ•°ä¹‹é—´æŒ‡å®šé•¿åº¦çš„éšæœºæ•°ç»„</li>
</ol>
<pre class="codehilite"><code class="language-js">const randomIntArrayInRange = (min, max, n = 1) =&gt;
  Array.from({ length: n }, () =&gt; Math.floor(Math.random() * (max - min + 1)) + min);

randomIntArrayInRange(12, 35, 10); // [ 34, 14, 27, 17, 30, 27, 20, 26, 21, 14 ]</code></pre>


<ol>
<li>sampleï¼šåœ¨æŒ‡å®šæ•°ç»„ä¸­è·å–éšæœºæ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const sample = arr =&gt; arr[Math.floor(Math.random() * arr.length)];

sample([3, 7, 9, 11]); // 9</code></pre>


<ol>
<li>sampleSizeï¼šåœ¨æŒ‡å®šæ•°ç»„ä¸­è·å–æŒ‡å®šé•¿åº¦çš„éšæœºæ•°</li>
</ol>
<p>æ­¤ä»£ç æ®µå¯ç”¨äºä»æ•°ç»„ä¸­è·å–æŒ‡å®šé•¿åº¦çš„éšæœºæ•°ï¼Œç›´è‡³ç©·å°½æ•°ç»„ã€‚ ä½¿ç”¨Fisher-Yatesç®—æ³•å¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œéšæœºé€‰æ‹©ã€‚</p>
<pre class="codehilite"><code class="language-js">const sampleSize = ([...arr], n = 1) =&gt; {
  let m = arr.length;
  while (m) {
    const i = Math.floor(Math.random() * m--);
    [arr[m], arr[i]] = [arr[i], arr[m]];
  }
  return arr.slice(0, n);
};

sampleSize([1, 2, 3], 2); // [3,1]
sampleSize([1, 2, 3], 4); // [2,3,1]</code></pre>


<ol>
<li>shuffleï¼šâ€œæ´—ç‰Œâ€ æ•°ç»„</li>
</ol>
<p>æ­¤ä»£ç æ®µä½¿ç”¨Fisher-Yatesç®—æ³•éšæœºæ’åºæ•°ç»„çš„å…ƒç´ ã€‚</p>
<pre class="codehilite"><code class="language-js">const shuffle = ([...arr]) =&gt; {
  let m = arr.length;
  while (m) {
    const i = Math.floor(Math.random() * m--);
    [arr[m], arr[i]] = [arr[i], arr[m]];
  }
  return arr;
};

const foo = [1, 2, 3];
shuffle(foo); // [2, 3, 1], foo = [1, 2, 3]</code></pre>


<ol>
<li>nestï¼šæ ¹æ®parent_idç”Ÿæˆæ ‘ç»“æ„ï¼ˆé˜¿é‡Œä¸€é¢çœŸé¢˜ï¼‰</li>
</ol>
<p>æ ¹æ®æ¯é¡¹çš„parent_idï¼Œç”Ÿæˆå…·ä½“æ ‘å½¢ç»“æ„çš„å¯¹è±¡ã€‚</p>
<pre class="codehilite"><code class="language-js">const nest = (items, id = null, link = 'parent_id') =&gt;
  items
    .filter(item =&gt; item[link] === id)
    .map(item =&gt; ({ ...item, children: nest(items, item.id) }));</code></pre>


<p>ç”¨æ³•ï¼š</p>
<pre class="codehilite"><code class="language-js">  const comments = [
  { id: 1, parent_id: null },
  { id: 2, parent_id: 1 },
  { id: 3, parent_id: 1 },
  { id: 4, parent_id: 2 },
  { id: 5, parent_id: 4 }
];
const nestedComments = nest(comments); // [{ id: 1, parent_id: null, children: [...] }]</code></pre>


<h2 id="_2">å‡½æ•°<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<ol>
<li>attemptï¼šæ•è·å‡½æ•°è¿è¡Œå¼‚å¸¸</li>
</ol>
<p>è¯¥ä»£ç æ®µæ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ç»“æœæˆ–æ•è·çš„é”™è¯¯å¯¹è±¡ã€‚</p>
<pre class="codehilite"><code class="language-js">onst attempt = (fn, ...args) =&gt; {
  try {
    return fn(...args);
  } catch (e) {
    return e instanceof Error ? e : new Error(e);
  }
};
var elements = attempt(function(selector) {
  return document.querySelectorAll(selector);
}, '&gt;_&gt;');
if (elements instanceof Error) elements = []; // elements = []</code></pre>


<ol>
<li>deferï¼šæ¨è¿Ÿæ‰§è¡Œ</li>
</ol>
<pre class="codehilite"><code class="language-js">const defer = (fn, ...args) =&gt; setTimeout(fn, 1, ...args);

defer(console.log, 'a'), console.log('b'); // logs 'b' then 'a'</code></pre>


<ol>
<li>runPromisesInSeriesï¼šè¿è¡Œå¤šä¸ªPromises</li>
</ol>
<pre class="codehilite"><code class="language-js">const runPromisesInSeries = ps =&gt; ps.reduce((p, next) =&gt; p.then(next), Promise.resolve());
const delay = d =&gt; new Promise(r =&gt; setTimeout(r, d));

runPromisesInSeries([() =&gt; delay(1000), () =&gt; delay(2000)]);
//ä¾æ¬¡æ‰§è¡Œæ¯ä¸ªPromises ï¼Œæ€»å…±éœ€è¦3ç§’é’Ÿæ‰èƒ½å®Œæˆ</code></pre>


<ol>
<li>timeTakenï¼šè®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´</li>
</ol>
<pre class="codehilite"><code class="language-js">const timeTaken = callback =&gt; {
  console.time('timeTaken');
  const r = callback();
  console.timeEnd('timeTaken');
  return r;
};

timeTaken(() =&gt; Math.pow(2, 10)); // 1024, (logged): timeTaken: 0.02099609375ms</code></pre>


<ol>
<li>createEventHubï¼šç®€å•çš„å‘å¸ƒ/è®¢é˜…æ¨¡å¼</li>
</ol>
<p>åˆ›å»ºä¸€ä¸ªå‘å¸ƒ/è®¢é˜…ï¼ˆå‘å¸ƒ-è®¢é˜…ï¼‰äº‹ä»¶é›†çº¿ï¼Œæœ‰emitï¼Œonå’Œoffæ–¹æ³•ã€‚</p>
<ul>
<li>ä½¿ç”¨Object.create(null)åˆ›å»ºä¸€ä¸ªç©ºçš„hubå¯¹è±¡ã€‚</li>
<li>emitï¼Œæ ¹æ®eventå‚æ•°è§£æå¤„ç†ç¨‹åºæ•°ç»„ï¼Œç„¶å.forEach()é€šè¿‡ä¼ å…¥æ•°æ®ä½œä¸ºå‚æ•°æ¥è¿è¡Œæ¯ä¸ªå¤„ç†ç¨‹åºã€‚</li>
<li>onï¼Œä¸ºäº‹ä»¶åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼ˆè‹¥ä¸å­˜åœ¨åˆ™ä¸ºç©ºæ•°ç»„ï¼‰ï¼Œç„¶å.push()å°†å¤„ç†ç¨‹åºæ·»åŠ åˆ°è¯¥æ•°ç»„ã€‚</li>
<li>offï¼Œç”¨.findIndex()åœ¨äº‹ä»¶æ•°ç»„ä¸­æŸ¥æ‰¾å¤„ç†ç¨‹åºçš„ç´¢å¼•ï¼Œå¹¶ä½¿ç”¨.splice()åˆ é™¤ã€‚</li>
</ul>
<pre class="codehilite"><code class="language-js">const createEventHub = () =&gt; ({
  hub: Object.create(null),
  emit(event, data) {
    (this.hub[event] || []).forEach(handler =&gt; handler(data));
  },
  on(event, handler) {
    if (!this.hub[event]) this.hub[event] = [];
    this.hub[event].push(handler);
  },
  off(event, handler) {
    const i = (this.hub[event] || []).findIndex(h =&gt; h === handler);
    if (i &gt; -1) this.hub[event].splice(i, 1);
    if (this.hub[event].length === 0) delete this.hub[event];
  }
});</code></pre>


<p>ç”¨æ³•ï¼š</p>
<pre class="codehilite"><code class="language-js">const handler = data =&gt; console.log(data);
const hub = createEventHub();
let increment = 0;

// è®¢é˜…ï¼Œç›‘å¬ä¸åŒäº‹ä»¶
hub.on('message', handler);
hub.on('message', () =&gt; console.log('Message event fired'));
hub.on('increment', () =&gt; increment++);

// å‘å¸ƒï¼šå‘å‡ºäº‹ä»¶ä»¥è°ƒç”¨æ‰€æœ‰è®¢é˜…ç»™å®ƒä»¬çš„å¤„ç†ç¨‹åºï¼Œå¹¶å°†æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒä»¬
hub.emit('message', 'hello world'); // æ‰“å° 'hello world' å’Œ 'Message event fired'
hub.emit('message', { hello: 'world' }); // æ‰“å° å¯¹è±¡ å’Œ 'Message event fired'
hub.emit('increment'); // increment = 1

// åœæ­¢è®¢é˜…
hub.off('message', handler);</code></pre>


<ol>
<li>memoizeï¼šç¼“å­˜å‡½æ•°</li>
</ol>
<p>é€šè¿‡å®ä¾‹åŒ–ä¸€ä¸ªMapå¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„ç¼“å­˜ã€‚</p>
<p>é€šè¿‡æ£€æŸ¥è¾“å…¥å€¼çš„å‡½æ•°è¾“å‡ºæ˜¯å¦å·²ç¼“å­˜ï¼Œè¿”å›å­˜å‚¨ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œè¯¥å‚æ•°å°†è¢«æä¾›ç»™å·²è®°å¿†çš„å‡½æ•°ï¼›å¦‚æœæ²¡æœ‰ï¼Œåˆ™å­˜å‚¨å¹¶è¿”å›å®ƒã€‚</p>
<pre class="codehilite"><code class="language-js">const memoize = fn =&gt; {
  const cache = new Map();
  const cached = function(val) {
    return cache.has(val) ? cache.get(val) : cache.set(val, fn.call(this, val)) &amp;&amp; cache.get(val);
  };
  cached.cache = cache;
  return cached;
};</code></pre>


<p>Ps: è¿™ä¸ªç‰ˆæœ¬å¯èƒ½ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œè¿˜æœ‰Vueæºç ç‰ˆçš„ï¼š</p>
<pre class="codehilite"><code class="language-js">/**
 * Create a cached version of a pure function.
 */
export function cached&lt;F: Function&gt; (fn: F): F {
  const cache = Object.create(null)
  return (function cachedFn (str: string) {
    const hit = cache[str]
    return hit || (cache[str] = fn(str))
  }: any)
}</code></pre>


<ol>
<li>onceï¼šåªè°ƒç”¨ä¸€æ¬¡çš„å‡½æ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const once = fn =&gt; {
  let called = false
  return function () {
    if (!called) {
      called = true
      fn.apply(this, arguments)
    }
  }
};</code></pre>


<ol>
<li>flattenObjectï¼šä»¥é”®çš„è·¯å¾„æ‰å¹³åŒ–å¯¹è±¡</li>
</ol>
<p>ä½¿ç”¨é€’å½’ã€‚</p>
<ul>
<li>åˆ©ç”¨Object.keys(obj)è”åˆArray.prototype.reduce()ï¼Œä»¥æ¯ç‰‡å¶å­èŠ‚ç‚¹è½¬æ¢ä¸ºæ‰å¹³çš„è·¯å¾„èŠ‚ç‚¹ã€‚</li>
<li>å¦‚æœé”®çš„å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å‡½æ•°ä½¿ç”¨è°ƒç”¨é€‚å½“çš„è‡ªèº«prefixä»¥åˆ›å»ºè·¯å¾„Object.assign()ã€‚</li>
<li>å¦åˆ™ï¼Œå®ƒå°†é€‚å½“çš„å‰ç¼€é”®å€¼å¯¹æ·»åŠ åˆ°ç´¯åŠ å™¨å¯¹è±¡ã€‚</li>
<li>prefixé™¤éæ‚¨å¸Œæœ›æ¯ä¸ªé”®éƒ½æœ‰ä¸€ä¸ªå‰ç¼€ï¼Œå¦åˆ™åº”å§‹ç»ˆçœç•¥ç¬¬äºŒä¸ªå‚æ•°ã€‚</li>
</ul>
<pre class="codehilite"><code class="language-js">const flattenObject = (obj, prefix = '') =&gt;
  Object.keys(obj).reduce((acc, k) =&gt; {
    const pre = prefix.length ? prefix + '.' : '';
    if (typeof obj[k] === 'object') Object.assign(acc, flattenObject(obj[k], pre + k));
    else acc[pre + k] = obj[k];
    return acc;
  }, {});

flattenObject({ a: { b: { c: 1 } }, d: 1 }); // { 'a.b.c': 1, d: 1 }</code></pre>


<ol>
<li>unflattenObjectï¼šä»¥é”®çš„è·¯å¾„å±•å¼€å¯¹è±¡</li>
</ol>
<p>ä¸ä¸Šé¢çš„ç›¸åï¼Œå±•å¼€å¯¹è±¡ã€‚</p>
<pre class="codehilite"><code class="language-js">const unflattenObject = obj =&gt;
  Object.keys(obj).reduce((acc, k) =&gt; {
    if (k.indexOf('.') !== -1) {
      const keys = k.split('.');
      Object.assign(
        acc,
        JSON.parse(
          '{' +
            keys.map((v, i) =&gt; (i !== keys.length - 1 ? `&quot;${v}&quot;:{` : `&quot;${v}&quot;:`)).join('') +
            obj[k] +
            '}'.repeat(keys.length)
        )
      );
    } else acc[k] = obj[k];
    return acc;
  }, {});

unflattenObject({ 'a.b.c': 1, d: 1 }); // { a: { b: { c: 1 } }, d: 1 }</code></pre>


<p>è¿™ä¸ªçš„ç”¨é€”ï¼Œåœ¨åšTreeç»„ä»¶æˆ–å¤æ‚è¡¨å•æ—¶å–å€¼éå¸¸èˆ’æœã€‚</p>
<h2 id="_3">å­—ç¬¦ä¸²<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<ol>
<li>byteSizeï¼šè¿”å›å­—ç¬¦ä¸²çš„å­—èŠ‚é•¿åº¦</li>
</ol>
<pre class="codehilite"><code class="language-js">const byteSize = str =&gt; new Blob([str]).size;

byteSize('ğŸ˜€'); // 4
byteSize('Hello World'); // 11</code></pre>


<ol>
<li>capitalizeï¼šé¦–å­—æ¯å¤§å†™</li>
</ol>
<pre class="codehilite"><code class="language-js">const capitalize = ([first, ...rest]) =&gt;
  first.toUpperCase() + rest.join('');

capitalize('fooBar'); // 'FooBar'
capitalize('fooBar', true); // 'Foobar'</code></pre>


<ol>
<li>capitalizeEveryWordï¼šæ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™</li>
</ol>
<pre class="codehilite"><code class="language-js">const capitalizeEveryWord = str =&gt; str.replace(/\b[a-z]/g, char =&gt; char.toUpperCase());

capitalizeEveryWord('hello world!'); // 'Hello World!'</code></pre>


<ol>
<li>decapitalizeï¼šé¦–å­—æ¯å°å†™</li>
</ol>
<pre class="codehilite"><code class="language-js">const decapitalize = ([first, ...rest]) =&gt;
  first.toLowerCase() + rest.join('')

decapitalize('FooBar'); // 'fooBar'
decapitalize('FooBar'); // 'fooBar'</code></pre>


<ol>
<li>luhnCheckï¼šé“¶è¡Œå¡å·ç æ ¡éªŒï¼ˆluhnç®—æ³•ï¼‰</li>
</ol>
<p>Luhnç®—æ³•çš„å®ç°ï¼Œç”¨äºéªŒè¯å„ç§æ ‡è¯†å·ï¼Œä¾‹å¦‚ä¿¡ç”¨å¡å·ï¼ŒIMEIå·ï¼Œå›½å®¶æä¾›å•†æ ‡è¯†å·ç­‰ã€‚</p>
<p>ä¸String.prototype.split('')ç»“åˆä½¿ç”¨ï¼Œä»¥è·å–æ•°å­—æ•°ç»„ã€‚è·å¾—æœ€åä¸€ä¸ªæ•°å­—ã€‚å®æ–½luhnç®—æ³•ã€‚å¦‚æœè¢«æ•´é™¤ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™è¿”å›ã€‚</p>
<pre class="codehilite"><code class="language-js">const luhnCheck = num =&gt; {
  let arr = (num + '')
    .split('')
    .reverse()
    .map(x =&gt; parseInt(x));
  let lastDigit = arr.splice(0, 1)[0];
  let sum = arr.reduce((acc, val, i) =&gt; (i % 2 !== 0 ? acc + val : acc + ((val * 2) % 9) || 9), 0);
  sum += lastDigit;
  return sum % 10 === 0;
};</code></pre>


<p>ç”¨ä¾‹:</p>
<pre class="codehilite"><code class="language-js">luhnCheck('4485275742308327'); // true
luhnCheck(6011329933655299); //  false
luhnCheck(123456789); // false</code></pre>


<p>è¡¥å……ï¼šé“¶è¡Œå¡å·ç çš„æ ¡éªŒè§„åˆ™ï¼š</p>
<p>é“¶è¡Œå¡å·ç çš„æ ¡éªŒé‡‡ç”¨Luhnç®—æ³•ï¼Œæ ¡éªŒè¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä»å³åˆ°å·¦ç»™å¡å·å­—ç¬¦ä¸²ç¼–å·ï¼Œæœ€å³è¾¹ç¬¬ä¸€ä½æ˜¯1ï¼Œæœ€å³è¾¹ç¬¬äºŒä½æ˜¯2ï¼Œæœ€å³è¾¹ç¬¬ä¸‰ä½æ˜¯3â€¦.</li>
<li>ä»å³å‘å·¦éå†ï¼Œå¯¹æ¯ä¸€ä½å­—ç¬¦tæ‰§è¡Œç¬¬ä¸‰ä¸ªæ­¥éª¤ï¼Œå¹¶å°†æ¯ä¸€ä½çš„è®¡ç®—ç»“æœç›¸åŠ å¾—åˆ°ä¸€ä¸ªæ•°sã€‚</li>
<li>å¯¹æ¯ä¸€ä½çš„è®¡ç®—è§„åˆ™ï¼šå¦‚æœè¿™ä¸€ä½æ˜¯å¥‡æ•°ä½ï¼Œåˆ™è¿”å›tæœ¬èº«ï¼Œå¦‚æœæ˜¯å¶æ•°ä½ï¼Œåˆ™å…ˆå°†tä¹˜ä»¥2å¾—åˆ°ä¸€ä¸ªæ•°nï¼Œå¦‚æœnæ˜¯ä¸€ä½æ•°ï¼ˆå°äº10ï¼‰ï¼Œç›´æ¥è¿”å›nï¼Œå¦åˆ™å°†nçš„ä¸ªä½æ•°å’Œåä½æ•°ç›¸åŠ è¿”å›ã€‚</li>
<li>å¦‚æœsèƒ½å¤Ÿæ•´é™¤10ï¼Œåˆ™æ­¤å·ç æœ‰æ•ˆï¼Œå¦åˆ™å·ç æ— æ•ˆã€‚</li>
</ul>
<p>å› ä¸ºæœ€ç»ˆçš„ç»“æœä¼šå¯¹10å–ä½™æ¥åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿæ•´é™¤10ï¼Œæ‰€ä»¥åˆå«åšæ¨¡10ç®—æ³•ã€‚
å½“ç„¶ï¼Œè¿˜æ˜¯åº“æ¯”è¾ƒé¦™: bankcardinfo</p>
<ol>
<li>splitLinesï¼šå°†å¤šè¡Œå­—ç¬¦ä¸²æ‹†åˆ†ä¸ºè¡Œæ•°ç»„ã€‚</li>
</ol>
<p>ä½¿ç”¨String.prototype.split()å’Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ¢è¡Œç¬¦å¹¶åˆ›å»ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<pre class="codehilite"><code class="language-js">const splitLines = str =&gt; str.split(/\r?\n/);

splitLines('This\nis a\nmultiline\nstring.\n'); // ['This', 'is a', 'multiline', 'string.' , '']</code></pre>


<ol>
<li>stripHTMLTagsï¼šåˆ é™¤å­—ç¬¦ä¸²ä¸­çš„HTMlæ ‡ç­¾</li>
</ol>
<p>ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤HTML / XMLæ ‡ç­¾ã€‚</p>
<p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤HTML / XML æ ‡è®°ã€‚</p>
<pre class="codehilite"><code class="language-js">const stripHTMLTags = str =&gt; str.replace(/&lt;[^&gt;]*&gt;/g, '');

stripHTMLTags('&lt;p&gt;&lt;em&gt;lorem&lt;/em&gt; &lt;strong&gt;ipsum&lt;/strong&gt;&lt;/p&gt;'); // 'lorem ipsum'</code></pre>


<h2 id="_4">å¯¹è±¡<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<ol>
<li>dayOfYearï¼šå½“å‰æ—¥æœŸå¤©æ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const dayOfYear = date =&gt;
  Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);

dayOfYear(new Date()); // 285</code></pre>


<ol>
<li>forOwnï¼šè¿­ä»£å±æ€§å¹¶æ‰§è¡Œå›è°ƒ</li>
</ol>
<pre class="codehilite"><code class="language-js">const forOwn = (obj, fn) =&gt; Object.keys(obj).forEach(key =&gt; fn(obj[key], key, obj));
forOwn({ foo: 'bar', a: 1 }, v =&gt; console.log(v)); // 'bar', 1</code></pre>


<ol>
<li>Get Time From Dateï¼šè¿”å›å½“å‰24å°æ—¶åˆ¶æ—¶é—´çš„å­—ç¬¦ä¸²</li>
</ol>
<pre class="codehilite"><code class="language-js">const getColonTimeFromDate = date =&gt; date.toTimeString().slice(0, 8);

getColonTimeFromDate(new Date()); // &quot;08:38:00&quot;</code></pre>


<ol>
<li>Get Days Between Datesï¼šè¿”å›æ—¥æœŸé—´çš„å¤©æ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const getDaysDiffBetweenDates = (dateInitial, dateFinal) =&gt;
  (dateFinal - dateInitial) / (1000 * 3600 * 24);

getDaysDiffBetweenDates(new Date('2019-01-01'), new Date('2019-10-14')); // 286</code></pre>


<ol>
<li>isï¼šæ£€æŸ¥å€¼æ˜¯å¦ä¸ºç‰¹å®šç±»å‹ã€‚</li>
</ol>
<pre class="codehilite"><code class="language-js">const is = (type, val) =&gt; ![, null].includes(val) &amp;&amp; val.constructor === type;

is(Array, [1]); // true
is(ArrayBuffer, new ArrayBuffer()); // true
is(Map, new Map()); // true
is(RegExp, /./g); // true
is(Set, new Set()); // true
is(WeakMap, new WeakMap()); // true
is(WeakSet, new WeakSet()); // true
is(String, ''); // true
is(String, new String('')); // true
is(Number, 1); // true
is(Number, new Number(1)); // true
is(Boolean, true); // true
is(Boolean, new Boolean(true)); // true</code></pre>


<ol>
<li>isAfterDateï¼šæ£€æŸ¥æ˜¯å¦åœ¨æŸæ—¥æœŸå</li>
</ol>
<pre class="codehilite"><code class="language-js">const isAfterDate = (dateA, dateB) =&gt; dateA &gt; dateB;

isAfterDate(new Date(2010, 10, 21), new Date(2010, 10, 20)); // true</code></pre>


<ol>
<li>isBeforeDateï¼šæ£€æŸ¥æ˜¯å¦åœ¨æŸæ—¥æœŸå‰</li>
</ol>
<pre class="codehilite"><code class="language-js">const isBeforeDate = (dateA, dateB) =&gt; dateA &lt; dateB;

isBeforeDate(new Date(2010, 10, 20), new Date(2010, 10, 21)); // true</code></pre>


<ol>
<li>tomorrowï¼šè·å–æ˜å¤©çš„å­—ç¬¦ä¸²æ ¼å¼æ—¶é—´</li>
</ol>
<pre class="codehilite"><code class="language-js">const tomorrow = () =&gt; {
  let t = new Date();
  t.setDate(t.getDate() + 1);
  return t.toISOString().split('T')[0];
};

tomorrow(); // 2019-10-15 (å¦‚æœæ˜å¤©æ˜¯2019-10-15)</code></pre>


<ol>
<li>equalsï¼šå…¨ç­‰åˆ¤æ–­</li>
</ol>
<p>åœ¨ä¸¤ä¸ªå˜é‡ä¹‹é—´è¿›è¡Œæ·±åº¦æ¯”è¾ƒä»¥ç¡®å®šå®ƒä»¬æ˜¯å¦å…¨ç­‰ã€‚</p>
<p>æ­¤ä»£ç æ®µç²¾ç®€çš„æ ¸å¿ƒåœ¨äºArray.prototype.every()çš„ä½¿ç”¨ã€‚</p>
<pre class="codehilite"><code class="language-js">const equals = (a, b) =&gt; {
  if (a === b) return true;
  if (a instanceof Date &amp;&amp; b instanceof Date) return a.getTime() === b.getTime();
  if (!a || !b || (typeof a !== 'object' &amp;&amp; typeof b !== 'object')) return a === b;
  if (a.prototype !== b.prototype) return false;
  let keys = Object.keys(a);
  if (keys.length !== Object.keys(b).length) return false;
  return keys.every(k =&gt; equals(a[k], b[k]));
};</code></pre>


<p>ç”¨æ³•ï¼š</p>
<pre class="codehilite"><code class="language-js">equals({ a: [2, { e: 3 }], b: [4], c: 'foo' }, { a: [2, { e: 3 }], b: [4], c: 'foo' }); // true</code></pre>


<h2 id="_5">æ•°å­—<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<ol>
<li>randomIntegerInRangeï¼šç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•´æ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const randomIntegerInRange = (min, max) =&gt; Math.floor(Math.random() * (max - min + 1)) + min;

randomIntegerInRange(0, 5); // 3</code></pre>


<ol>
<li>randomNumberInRangeï¼šç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºå°æ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const randomNumberInRange = (min, max) =&gt; Math.random() * (max - min) + min;

randomNumberInRange(2, 10); // 6.0211363285087005</code></pre>


<ol>
<li>roundï¼šå››èˆäº”å…¥åˆ°æŒ‡å®šä½æ•°</li>
</ol>
<pre class="codehilite"><code class="language-js">const round = (n, decimals = 0) =&gt; Number(`${Math.round(`${n}e${decimals}`)}e-${decimals}`);

round(1.005, 2); // 1.01</code></pre>


<ol>
<li>sumï¼šè®¡ç®—æ•°ç»„æˆ–å¤šä¸ªæ•°å­—çš„æ€»å’Œ</li>
</ol>
<pre class="codehilite"><code class="language-js">const sum = (...arr) =&gt; [...arr].reduce((acc, val) =&gt; acc + val, 0);

sum(1, 2, 3, 4); // 10
sum(...[1, 2, 3, 4]); // 10</code></pre>


<ol>
<li>toCurrencyï¼šç®€å•çš„è´§å¸å•ä½è½¬æ¢</li>
</ol>
<pre class="codehilite"><code class="language-js">const toCurrency = (n, curr, LanguageFormat = undefined) =&gt;
  Intl.NumberFormat(LanguageFormat, { style: 'currency', currency: curr }).format(n);

toCurrency(123456.789, 'EUR'); // â‚¬123,456.79
toCurrency(123456.789, 'USD', 'en-us'); // $123,456.79  
toCurrency(123456.789, 'USD', 'fa'); // Û±Û²Û³Ù¬Û´ÛµÛ¶Ù«Û·Û¹
toCurrency(322342436423.2435, 'JPY'); // Â¥322,342,436,423 </code></pre>


<h2 id="_6">æµè§ˆå™¨æ“ä½œåŠå…¶å®ƒ<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<ol>
<li>bottomVisibleï¼šæ£€æŸ¥é¡µé¢åº•éƒ¨æ˜¯å¦å¯è§</li>
</ol>
<pre class="codehilite"><code class="language-js">const bottomVisible = () =&gt;
  document.documentElement.clientHeight + window.scrollY &gt;=
  (document.documentElement.scrollHeight || document.documentElement.clientHeight);

bottomVisible(); // true</code></pre>


<ol>
<li>Create Directoryï¼šæ£€æŸ¥åˆ›å»ºç›®å½•</li>
</ol>
<p>æ­¤ä»£ç æ®µè°ƒç”¨fsæ¨¡å—çš„existsSync()æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™mkdirSync()åˆ›å»ºè¯¥ç›®å½•ã€‚</p>
<pre class="codehilite"><code class="language-js">const fs = require('fs');
const createDirIfNotExists = dir =&gt; (!fs.existsSync(dir) ? fs.mkdirSync(dir) : undefined);
createDirIfNotExists('test'); </code></pre>


<ol>
<li>currentURLï¼šè¿”å›å½“å‰é“¾æ¥url</li>
</ol>
<pre class="codehilite"><code class="language-js">const currentURL = () =&gt; window.location.href;

currentURL(); // 'https://juejin.im'</code></pre>


<ol>
<li>distanceï¼šè¿”å›ä¸¤ç‚¹é—´çš„è·ç¦»</li>
</ol>
<p>è¯¥ä»£ç æ®µé€šè¿‡è®¡ç®—æ¬§å‡ é‡Œå¾—è·ç¦»æ¥è¿”å›ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚</p>
<pre class="codehilite"><code class="language-js">const distance = (x0, y0, x1, y1) =&gt; Math.hypot(x1 - x0, y1 - y0);

distance(1, 1, 2, 3); // 2.23606797749979</code></pre>


<ol>
<li>elementContainsï¼šæ£€æŸ¥æ˜¯å¦åŒ…å«å­å…ƒç´ 
æ­¤ä»£ç æ®µæ£€æŸ¥çˆ¶å…ƒç´ æ˜¯å¦åŒ…å«å­å…ƒç´ ã€‚</li>
</ol>
<pre class="codehilite"><code class="language-js">const elementContains = (parent, child) =&gt; parent !== child &amp;&amp; parent.contains(child);

elementContains(document.querySelector('head'), document.querySelector('title')); // true
elementContains(document.querySelector('body'), document.querySelector('body')); // false</code></pre>


<ol>
<li>getStyleï¼šè¿”å›æŒ‡å®šå…ƒç´ çš„ç”Ÿæ•ˆæ ·å¼</li>
</ol>
<pre class="codehilite"><code class="language-js">const getStyle = (el, ruleName) =&gt; getComputedStyle(el)[ruleName];

getStyle(document.querySelector('p'), 'font-size'); // '16px'</code></pre>


<ol>
<li>getTypeï¼šè¿”å›å€¼æˆ–å˜é‡çš„ç±»å‹å</li>
</ol>
<pre class="codehilite"><code class="language-js">const getType = v =&gt;
  v === undefined ? 'undefined' : v === null ? 'null' : v.constructor.name.toLowerCase();

getType(new Set([1, 2, 3])); // 'set'
getType([1, 2, 3]); // 'array'</code></pre>


<ol>
<li>hasClassï¼šæ ¡éªŒæŒ‡å®šå…ƒç´ çš„ç±»å</li>
</ol>
<pre class="codehilite"><code class="language-js">const hasClass = (el, className) =&gt; el.classList.contains(className);
hasClass(document.querySelector('p.special'), 'special'); // true</code></pre>


<ol>
<li>hideï¼šéšè—æ‰€æœ‰çš„æŒ‡å®šæ ‡ç­¾</li>
</ol>
<pre class="codehilite"><code class="language-js">const hide = (...el) =&gt; [...el].forEach(e =&gt; (e.style.display = 'none'));

hide(document.querySelectorAll('img')); // éšè—æ‰€æœ‰&lt;img&gt;æ ‡ç­¾</code></pre>


<ol>
<li>httpsRedirectï¼šHTTP è·³è½¬ HTTPS</li>
</ol>
<pre class="codehilite"><code class="language-js">const httpsRedirect = () =&gt; {
  if (location.protocol !== 'https:') location.replace('https://' + location.href.split('//')[1]);
};

httpsRedirect(); // è‹¥åœ¨`http://www.baidu.com`, åˆ™è·³è½¬åˆ°`https://www.baidu.com`</code></pre>


<ol>
<li>insertAfterï¼šåœ¨æŒ‡å®šå…ƒç´ ä¹‹åæ’å…¥æ–°å…ƒç´ </li>
</ol>
<pre class="codehilite"><code class="language-js">const insertAfter = (el, htmlString) =&gt; el.insertAdjacentHTML('afterend', htmlString);

// &lt;div id=&quot;myId&quot;&gt;...&lt;/div&gt; &lt;p&gt;after&lt;/p&gt;
insertAfter(document.getElementById('myId'), '&lt;p&gt;after&lt;/p&gt;'); </code></pre>


<ol>
<li>insertBeforeï¼šåœ¨æŒ‡å®šå…ƒç´ ä¹‹å‰æ’å…¥æ–°å…ƒç´ </li>
</ol>
<pre class="codehilite"><code class="language-js">const insertBefore = (el, htmlString) =&gt; el.insertAdjacentHTML('beforebegin', htmlString);

insertBefore(document.getElementById('myId'), '&lt;p&gt;before&lt;/p&gt;'); // &lt;p&gt;before&lt;/p&gt; &lt;div id=&quot;myId&quot;&gt;...&lt;/div&gt;</code></pre>


<ol>
<li>isBrowserï¼šæ£€æŸ¥æ˜¯å¦ä¸ºæµè§ˆå™¨ç¯å¢ƒ</li>
</ol>
<p>æ­¤ä»£ç æ®µå¯ç”¨äºç¡®å®šå½“å‰è¿è¡Œæ—¶ç¯å¢ƒæ˜¯å¦ä¸ºæµè§ˆå™¨ã€‚è¿™æœ‰åŠ©äºé¿å…åœ¨æœåŠ¡å™¨ï¼ˆèŠ‚ç‚¹ï¼‰ä¸Šè¿è¡Œå‰ç«¯æ¨¡å—æ—¶å‡ºé”™ã€‚</p>
<pre class="codehilite"><code class="language-js">const isBrowser = () =&gt; ![typeof window, typeof document].includes('undefined');

isBrowser(); // true (browser)
isBrowser(); // false (Node)</code></pre>


<ol>
<li>isBrowserTabï¼šæ£€æŸ¥å½“å‰æ ‡ç­¾é¡µæ˜¯å¦æ´»åŠ¨</li>
</ol>
<pre class="codehilite"><code class="language-js">const isBrowserTabFocused = () =&gt; !document.hidden;

isBrowserTabFocused(); // true</code></pre>


<ol>
<li>nodeListToArrayï¼šè½¬æ¢nodeListä¸ºæ•°ç»„</li>
</ol>
<pre class="codehilite"><code class="language-js">const nodeListToArray = nodeList =&gt; [...nodeList];

nodeListToArray(document.childNodes); // [ &lt;!DOCTYPE html&gt;, html ]</code></pre>


<ol>
<li>Random Hexadecimal Color Codeï¼šéšæœºåå…­è¿›åˆ¶é¢œè‰²</li>
</ol>
<pre class="codehilite"><code class="language-js">const randomHexColorCode = () =&gt; {
  let n = (Math.random() * 0xfffff * 1000000).toString(16);
  return '#' + n.slice(0, 6);
};

randomHexColorCode(); // &quot;#e34155&quot;</code></pre>


<ol>
<li>scrollToTopï¼šå¹³æ»‘æ»šåŠ¨è‡³é¡¶éƒ¨</li>
</ol>
<pre class="codehilite"><code class="language-js">const scrollToTop = () =&gt; {
  const c = document.documentElement.scrollTop || document.body.scrollTop;
  if (c &gt; 0) {
    window.requestAnimationFrame(scrollToTop);
    window.scrollTo(0, c - c / 8);
  }
};

scrollToTop();</code></pre>


<ol>
<li>smoothScrollï¼šæ»šåŠ¨åˆ°æŒ‡å®šå…ƒç´ åŒºåŸŸ</li>
</ol>
<p>è¯¥ä»£ç æ®µå¯å°†æŒ‡å®šå…ƒç´ å¹³æ»‘æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸã€‚</p>
<pre class="codehilite"><code class="language-js">const smoothScroll = element =&gt;
  document.querySelector(element).scrollIntoView({
    behavior: 'smooth'
  });

smoothScroll('#fooBar'); 
smoothScroll('.fooBar'); </code></pre>


<ol>
<li>detectDeviceTypeï¼šæ£€æµ‹ç§»åŠ¨/PCè®¾å¤‡</li>
</ol>
<pre class="codehilite"><code class="language-js">const detectDeviceType = () =&gt;
  /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    ? 'Mobile'
    : 'Desktop';</code></pre>


<ol>
<li>getScrollPositionï¼šè¿”å›å½“å‰çš„æ»šåŠ¨ä½ç½®</li>
</ol>
<p>é»˜è®¤å‚æ•°ä¸ºwindow ï¼ŒpageXOffset(pageYOffset)ä¸ºç¬¬ä¸€é€‰æ‹©ï¼Œæ²¡æœ‰åˆ™ç”¨scrollLeft(scrollTop)</p>
<pre class="codehilite"><code class="language-js">const getScrollPosition = (el = window) =&gt; ({
  x: el.pageXOffset !== undefined ? el.pageXOffset : el.scrollLeft,
  y: el.pageYOffset !== undefined ? el.pageYOffset : el.scrollTop
});

getScrollPosition(); // {x: 0, y: 200}</code></pre>


<ol>
<li>sizeï¼šè·å–ä¸åŒç±»å‹å˜é‡çš„å­—èŠ‚é•¿åº¦</li>
</ol>
<p>è¿™ä¸ªçš„å®ç°éå¸¸å·§å¦™ï¼Œåˆ©ç”¨Blobç±»æ–‡ä»¶å¯¹è±¡çš„ç‰¹æ€§ï¼Œè·å–å¯¹è±¡çš„é•¿åº¦ã€‚</p>
<p>å¦å¤–ï¼Œå¤šé‡ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œæ˜¯çœŸé¦™ã€‚</p>
<pre class="codehilite"><code class="language-js">const size = val =&gt;
  Array.isArray(val)
    ? val.length
    : val &amp;&amp; typeof val === 'object'
    ? val.size || val.length || Object.keys(val).length
    : typeof val === 'string'
    ? new Blob([val]).size
    : 0;

size([1, 2, 3, 4, 5]); // 5
size('size'); // 4
size({ one: 1, two: 2, three: 3 }); // 3</code></pre>


<ol>
<li>escapeHTMLï¼šè½¬ä¹‰HTML</li>
</ol>
<p>å½“ç„¶æ˜¯ç”¨æ¥é˜²XSSæ”»å‡»å•¦ã€‚</p>
<pre class="codehilite"><code class="language-js">const escapeHTML = str =&gt;
  str.replace(
    /[&amp;&lt;&gt;'&quot;]/g,
    tag =&gt;
      ({
        '&amp;': '&amp;amp;',
        '&lt;': '&amp;lt;',
        '&gt;': '&amp;gt;',
        &quot;'&quot;: '&amp;#39;',
        '&quot;': '&amp;quot;'
      }[tag] || tag)
  );

escapeHTML('&lt;a href=&quot;#&quot;&gt;Me &amp; you&lt;/a&gt;'); // '&amp;lt;a href=&amp;quot;#&amp;quot;&amp;gt;Me &amp;amp; you&amp;lt;/a&amp;gt;'</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../vue_cp_react/" class="btn btn-neutral float-right" title="vueä¸reactæ¯”è¾ƒ">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../react_interview/" class="btn btn-neutral" title="React é¢è¯•"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../react_interview/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../vue_cp_react/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
